Index: .idea/shelf/Uncommitted_changes_before_Update_at_18_01_2021_15_46_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_18_01_2021_15_46_[Default_Changelist]/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_18_01_2021_15_46_[Default_Changelist]/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,464 +0,0 @@
-Index: app/src/main/java/com/example/walktoshop/User/UserView.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.walktoshop.User;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ActionBar;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\n\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\npublic class UserView extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_view);\r\n        ActionBar actionBar = getActionBar();\r\n        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()) {\r\n                    case R.id.action_home:\r\n                        goHome();\r\n                        break;\r\n                    case R.id.action_map:\r\n                        break;\r\n                    case R.id.action_statistics:\r\n                        break;\r\n                    case R.id.action_notification:\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void goHome() {\r\n        final Intent intent = new Intent(this, UserView.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    public void OnItemSelected(MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.action_search:\r\n                break;\r\n            case R.id.action_exit:\r\n                break;\r\n            case R.id.action_settings:\r\n                break;\r\n        }\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/User/UserView.java	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
-+++ app/src/main/java/com/example/walktoshop/User/UserView.java	(date 1610980876161)
-@@ -2,14 +2,22 @@
- 
- import androidx.annotation.NonNull;
- import androidx.appcompat.app.AppCompatActivity;
-+import androidx.appcompat.widget.Toolbar;
- 
--import android.app.ActionBar;
-+import android.Manifest;
- import android.content.Intent;
-+import android.content.pm.PackageManager;
-+import android.location.Location;
- import android.os.Bundle;
-+import android.util.Log;
- import android.view.Menu;
- import android.view.MenuItem;
- 
-+
- import com.example.walktoshop.R;
-+import com.google.android.gms.location.FusedLocationProviderClient;
-+import com.google.android.gms.location.LocationServices;
-+import com.google.android.gms.tasks.OnSuccessListener;
- import com.google.android.material.bottomnavigation.BottomNavigationView;
- 
- public class UserView extends AppCompatActivity {
-@@ -18,7 +26,7 @@
-     protected void onCreate(Bundle savedInstanceState) {
-         super.onCreate(savedInstanceState);
-         setContentView(R.layout.activity_user_view);
--        ActionBar actionBar = getActionBar();
-+
-         BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);
-         bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {
-             @Override
-@@ -28,6 +36,7 @@
-                         goHome();
-                         break;
-                     case R.id.action_map:
-+                        goToUserViewMap();
-                         break;
-                     case R.id.action_statistics:
-                         break;
-@@ -39,6 +48,11 @@
-         });
-     }
- 
-+    private void goToUserViewMap() {
-+       final Intent intent = new Intent(this, UserMapView.class);
-+       startActivity(intent);
-+    }
-+
- 
-     public void goHome() {
-         final Intent intent = new Intent(this, UserView.class);
-Index: app/build.gradle
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>plugins {\r\n    id 'com.android.application'\r\n    id 'com.google.gms.google-services'\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.walktoshop\"\r\n        minSdkVersion 23\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    def fragment_version = \"1.2.5\"\r\n    // Java language implementation\r\n    implementation \"androidx.fragment:fragment:$fragment_version\"\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    implementation 'com.google.firebase:firebase-auth:20.0.2'\r\n    implementation 'com.google.firebase:firebase-firestore:22.0.1'\r\n    implementation 'com.google.android.gms:play-services-maps:8.3.0'\r\n    implementation 'com.google.android.libraries.places:places:2.4.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    testImplementation 'junit:junit:4.+'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/build.gradle	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
-+++ app/build.gradle	(date 1610961209508)
-@@ -37,9 +37,11 @@
-     implementation 'com.google.android.material:material:1.2.1'
-     implementation 'com.google.firebase:firebase-auth:20.0.2'
-     implementation 'com.google.firebase:firebase-firestore:22.0.1'
--    implementation 'com.google.android.gms:play-services-maps:8.3.0'
-+    implementation 'com.google.android.gms:play-services-maps:17.0.0'
-+    implementation 'com.google.android.gms:play-services-location:17.1.0'
-     implementation 'com.google.android.libraries.places:places:2.4.0'
-     implementation 'androidx.constraintlayout:constraintlayout:2.0.4'
-+    implementation "androidx.swiperefreshlayout:swiperefreshlayout:1.1.0"
-     testImplementation 'junit:junit:4.+'
-     androidTestImplementation 'androidx.test.ext:junit:1.1.2'
-     androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'
-Index: app/src/main/res/layout/activity_seller_map_view.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"horizontal\">\r\n\r\n    <fragment xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:map=\"http://schemas.android.com/apk/res-auto\"\r\n        xmlns:tools=\"http://schemas.android.com/tools\"\r\n        android:id=\"@+id/map\"\r\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        tools:context=\"com.example.WalktoShop.MapsActivity\" />\r\n\r\n    <androidx.appcompat.widget.SearchView\r\n        android:id=\"@+id/search_bar\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentTop=\"true\"\r\n        android:queryHint=\"Search..\"\r\n        android:iconifiedByDefault=\"false\"\r\n        android:layout_margin=\"10dp\"\r\n        android:elevation=\"5dp\"\r\n        android:background=\"#FFFF\"\r\n        android:layout_marginBottom=\"683dp\" />\r\n\r\n</RelativeLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_seller_map_view.xml	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
-+++ app/src/main/res/layout/activity_seller_map_view.xml	(date 1610894354199)
-@@ -13,7 +13,7 @@
-         android:name="com.google.android.gms.maps.SupportMapFragment"
-         android:layout_width="match_parent"
-         android:layout_height="match_parent"
--        tools:context="com.example.WalktoShop.MapsActivity" />
-+        tools:context="com.example.walktoshop.Seller.SellerMapView" />
- 
-     <androidx.appcompat.widget.SearchView
-         android:id="@+id/search_bar"
-Index: app/src/main/java/com/example/walktoshop/User/FragmentUserMapBackDrop.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/User/FragmentUserMapBackDrop.java	(date 1610958832197)
-+++ app/src/main/java/com/example/walktoshop/User/FragmentUserMapBackDrop.java	(date 1610958832197)
-@@ -0,0 +1,54 @@
-+package com.example.walktoshop.User;
-+
-+import android.os.Bundle;
-+import android.view.LayoutInflater;
-+import android.view.View;
-+import android.view.ViewGroup;
-+import android.widget.ImageView;
-+import android.widget.LinearLayout;
-+
-+import androidx.annotation.NonNull;
-+import androidx.annotation.Nullable;
-+import androidx.coordinatorlayout.widget.CoordinatorLayout;
-+import androidx.fragment.app.Fragment;
-+
-+import com.example.walktoshop.R;
-+import com.google.android.material.bottomsheet.BottomSheetBehavior;
-+
-+public class FragmentUserMapBackDrop extends Fragment {
-+
-+    BottomSheetBehavior sheetBehavior;
-+    @Nullable
-+    @Override
-+    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
-+
-+        View coordinatorLayout = (CoordinatorLayout)inflater.inflate(R.layout.fragment_map_backdrop, container, false);
-+
-+        ImageView filterIcon = coordinatorLayout.findViewById(R.id.filterIcon);
-+        LinearLayout contentLayout = coordinatorLayout.findViewById(R.id.contentLayout);
-+
-+        sheetBehavior = BottomSheetBehavior.from(contentLayout);
-+        sheetBehavior.setFitToContents(false);
-+        sheetBehavior.setHideable(false);//evita che il backdrop sia completamente oscurato
-+        sheetBehavior.setState(BottomSheetBehavior.STATE_EXPANDED);//inizialmente il  backdrop parte esteso
-+
-+        filterIcon.setOnClickListener(new View.OnClickListener() {
-+            @Override
-+            public void onClick(View v) {
-+                toggleFilters();
-+            }
-+        });
-+        return coordinatorLayout;
-+    }
-+
-+    private void toggleFilters() {
-+        if (sheetBehavior.getState() == BottomSheetBehavior.STATE_EXPANDED) {
-+            sheetBehavior.setHideable(true);
-+            sheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN);
-+        } else {
-+            sheetBehavior.setHideable(true);
-+            sheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN);
-+        }
-+    }
-+}
-+
-Index: app/src/main/AndroidManifest.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.walktoshop\">\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.Walktoshop\">\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n\r\n        <activity android:name=\".User.UserView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Seller.SellerView\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".Seller.SellerMapView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.SignUp\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.LogIn\">\r\n\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/AndroidManifest.xml	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
-+++ app/src/main/AndroidManifest.xml	(date 1610974906492)
-@@ -2,8 +2,12 @@
- <manifest xmlns:android="http://schemas.android.com/apk/res/android"
-     package="com.example.walktoshop">
- 
-+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
-     <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
-     <uses-permission android:name="android.permission.INTERNET"/>
-+    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
-+    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
-+
-     <application
-         android:allowBackup="true"
-         android:icon="@mipmap/ic_launcher"
-@@ -17,14 +21,14 @@
-             android:value="@string/google_maps_key" />
- 
-         <activity android:name=".User.UserView">
--
--        </activity>
--        <activity android:name=".Seller.SellerView">
-             <intent-filter>
-                 <action android:name="android.intent.action.MAIN" />
- 
-                 <category android:name="android.intent.category.LAUNCHER" />
-             </intent-filter>
-+        </activity>
-+        <activity android:name=".Seller.SellerView">
-+
-         </activity>
-         <activity android:name=".Seller.SellerMapView">
- 
-@@ -35,6 +39,7 @@
-         <activity android:name=".Login_SignUp.LogIn">
- 
-         </activity>
-+        <activity android:name=".User.UserMapView"></activity>
-     </application>
- 
- </manifest>
-\ No newline at end of file
-Index: app/src/main/java/com/example/walktoshop/User/UserMapView.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/User/UserMapView.java	(date 1610980973212)
-+++ app/src/main/java/com/example/walktoshop/User/UserMapView.java	(date 1610980973212)
-@@ -0,0 +1,100 @@
-+package com.example.walktoshop.User;
-+
-+import android.content.Intent;
-+import android.os.Bundle;
-+import android.view.Menu;
-+import android.view.MenuItem;
-+
-+
-+import androidx.annotation.NonNull;
-+import androidx.annotation.Nullable;
-+import androidx.appcompat.app.AppCompatActivity;
-+
-+
-+
-+import com.example.walktoshop.R;
-+import com.google.android.gms.location.FusedLocationProviderClient;
-+import com.google.android.gms.maps.CameraUpdateFactory;
-+import com.google.android.gms.maps.GoogleMap;
-+import com.google.android.gms.maps.OnMapReadyCallback;
-+import com.google.android.gms.maps.SupportMapFragment;
-+import com.google.android.gms.maps.model.LatLng;
-+import com.google.android.gms.maps.model.Marker;
-+import com.google.android.gms.maps.model.MarkerOptions;
-+import com.google.android.material.bottomnavigation.BottomNavigationView;
-+
-+
-+
-+public class UserMapView extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnMarkerClickListener {
-+    GoogleMap mMap;
-+
-+    @Override
-+    protected void onCreate(@Nullable Bundle savedInstanceState) {
-+        super.onCreate(savedInstanceState);
-+        setContentView(R.layout.activity_user_map_view);
-+
-+        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()
-+                .findFragmentById(R.id.map);
-+
-+
-+        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);
-+        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {
-+            @Override
-+            public boolean onNavigationItemSelected(@NonNull MenuItem item) {
-+                switch (item.getItemId()) {
-+                    case R.id.action_home:
-+                        goHome();
-+                        break;
-+                    case R.id.action_statistics:
-+                        break;
-+                    case R.id.action_notification:
-+                        break;
-+                }
-+                return true;
-+            }
-+        });
-+    }
-+
-+    public void goHome() {
-+        final Intent intent = new Intent(this, UserView.class);
-+        startActivity(intent);
-+    }
-+
-+    public boolean onCreateOptionsMenu(Menu menu) {
-+        getMenuInflater().inflate(R.menu.menu_action_bar, menu);
-+        return true;
-+    }
-+
-+    public boolean onOptionsItemSelected(MenuItem item) {
-+        return super.onOptionsItemSelected(item);
-+    }
-+
-+    public void OnItemSelected(MenuItem item) {
-+        switch (item.getItemId()) {
-+            case R.id.action_search:
-+                break;
-+            case R.id.action_exit:
-+                break;
-+            case R.id.action_settings:
-+                break;
-+        }
-+    }
-+
-+    @Override
-+    public void onMapReady(GoogleMap googleMap) {
-+        mMap = googleMap;
-+
-+        // Add a marker in Sydney and move the camera
-+        LatLng sydney = new LatLng(-34, 151);
-+        mMap.addMarker(new MarkerOptions().position(sydney).title("Marker in Sydney"));
-+        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));
-+
-+    }
-+
-+    @Override
-+    public boolean onMarkerClick(Marker marker) {
-+        getSupportFragmentManager().beginTransaction()
-+                .add(R.id.container, new FragmentUserMapBackDrop()).commit();
-+        return false;
-+    }
-+}
-Index: app/src/main/res/layout/activity_user_map_view.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_user_map_view.xml	(date 1610916860841)
-+++ app/src/main/res/layout/activity_user_map_view.xml	(date 1610916860841)
-@@ -0,0 +1,43 @@
-+<?xml version="1.0" encoding="utf-8"?>
-+<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+    xmlns:tools="http://schemas.android.com/tools"
-+    xmlns:app="http://schemas.android.com/apk/res-auto"
-+    android:layout_width="match_parent"
-+    android:layout_height="match_parent"
-+    tools:context="com.example.walktoshop.User.UserView"
-+    android:orientation="horizontal">
-+
-+    <fragment xmlns:android="http://schemas.android.com/apk/res/android"
-+        xmlns:map="http://schemas.android.com/apk/res-auto"
-+        xmlns:tools="http://schemas.android.com/tools"
-+        android:id="@+id/map"
-+        android:name="com.google.android.gms.maps.SupportMapFragment"
-+        android:layout_width="match_parent"
-+        android:layout_height="match_parent"
-+        tools:context="com.example.walktoshop.User.UserMapView" />
-+
-+    <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+        xmlns:tools="http://schemas.android.com/tools"
-+        xmlns:app="http://schemas.android.com/apk/res-auto"
-+        android:layout_width="match_parent"
-+        android:layout_height="match_parent"
-+        tools:context="com.example.walktoshop.User.UserView"
-+        android:orientation="horizontal">
-+
-+        <com.google.android.material.bottomnavigation.BottomNavigationView
-+            android:id="@+id/bottom_navigation"
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:layout_gravity="bottom"
-+            style="@style/Widget.MaterialComponents.BottomNavigationView.Colored"
-+            app:menu="@menu/menu_bottom_navigation_view"/>
-+
-+    </FrameLayout>
-+
-+    <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+        xmlns:tools="http://schemas.android.com/tools"
-+        android:id="@+id/container"
-+        android:layout_width="match_parent"
-+        android:layout_height="match_parent"/>
-+
-+</androidx.coordinatorlayout.widget.CoordinatorLayout>
-\ No newline at end of file
-Index: app/src/main/res/layout/activity_seller_view.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/container\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <ListView\r\n        android:id=\"@+id/listView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_alignParentStart=\"true\"\r\n        android:layout_alignParentLeft=\"true\"\r\n        android:layout_alignParentTop=\"true\"\r\n        android:layout_alignParentEnd=\"true\"\r\n        android:layout_alignParentRight=\"true\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:layout_marginStart=\"0dp\"\r\n        android:layout_marginLeft=\"0dp\"\r\n        android:layout_marginTop=\"0dp\"\r\n        android:layout_marginEnd=\"0dp\"\r\n        android:layout_marginRight=\"0dp\"\r\n        android:layout_marginBottom=\"-5dp\"\r\n        >\r\n\r\n\r\n    </ListView>\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/sellerViewProgressBar\"\r\n        style=\"?android:attr/progressBarStyle\"\r\n        android:layout_width=\"91dp\"\r\n        android:layout_height=\"81dp\"\r\n        android:layout_marginLeft=\"160dp\"\r\n        android:layout_marginTop=\"350dp\" />\r\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=\"@+id/fab\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"650dp\"\r\n        android:layout_marginLeft=\"330dp\"\r\n        android:layout_gravity=\"end|bottom\"\r\n        android:layout_marginRight=\"@dimen/material_bottom_margin\"\r\n        android:layout_marginBottom=\"@dimen/material_botton_margin\"\r\n        android:src=\"@drawable/baseline_add_black_18dp\"\r\n        app:backgroundTint=\"@color/verde_maggio\"\r\n        app:backgroundTintMode=\"src_over\"\r\n        app:fabSize=\"normal\"\r\n        app:rippleColor=\"#00FF00\"\r\n        android:layout_weight=\"1\"\r\n        />\r\n</RelativeLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_seller_view.xml	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
-+++ app/src/main/res/layout/activity_seller_view.xml	(date 1610895197587)
-@@ -1,5 +1,5 @@
- <?xml version="1.0" encoding="utf-8"?>
--<RelativeLayout
-+<androidx.coordinatorlayout.widget.CoordinatorLayout
-     xmlns:android="http://schemas.android.com/apk/res/android"
-     xmlns:app="http://schemas.android.com/apk/res-auto"
-     xmlns:tools="http://schemas.android.com/tools"
-@@ -22,9 +22,7 @@
-         android:layout_marginTop="0dp"
-         android:layout_marginEnd="0dp"
-         android:layout_marginRight="0dp"
--        android:layout_marginBottom="-5dp"
--        >
--
-+        android:layout_marginBottom="-5dp">
- 
-     </ListView>
- 
-@@ -35,20 +33,18 @@
-         android:layout_height="81dp"
-         android:layout_marginLeft="160dp"
-         android:layout_marginTop="350dp" />
-+
-     <com.google.android.material.floatingactionbutton.FloatingActionButton
-         android:id="@+id/fab"
-         android:layout_width="wrap_content"
-         android:layout_height="wrap_content"
--        android:layout_marginTop="650dp"
--        android:layout_marginLeft="330dp"
--        android:layout_gravity="end|bottom"
-+        android:layout_gravity="bottom|right"
-         android:layout_marginRight="@dimen/material_bottom_margin"
-         android:layout_marginBottom="@dimen/material_botton_margin"
-         android:src="@drawable/baseline_add_black_18dp"
-         app:backgroundTint="@color/verde_maggio"
-         app:backgroundTintMode="src_over"
-         app:fabSize="normal"
--        app:rippleColor="#00FF00"
--        android:layout_weight="1"
--        />
--</RelativeLayout>
-\ No newline at end of file
-+        app:rippleColor="#00FF00"/>
-+
-+</androidx.coordinatorlayout.widget.CoordinatorLayout>
-\ No newline at end of file
-Index: app/src/main/java/com/example/walktoshop/Seller/SellerViewAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.walktoshop.Seller;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FieldValue;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class SellerViewAdapter extends ArrayAdapter {\r\n    private Context context;\r\n    private ArrayList<Business> business;\r\n    private String UID;\r\n    FirebaseFirestore db =FirebaseFirestore.getInstance();\r\n\r\n\r\n    public SellerViewAdapter(Context context, ArrayList<Business> business, String UID) {\r\n        super(context, R.layout.activity_sellerviewadapter);\r\n        this.context=context;\r\n        this.business=business;\r\n        this.UID = UID;\r\n    }\r\n    @Override\r\n    public int getCount() {\r\n        if(business.size()<1){\r\n            return 1;\r\n        }else{\r\n            return business.size();\r\n        }\r\n\r\n    }\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return business.get(position);\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n    @Override\r\n    public int getViewTypeCount() {\r\n        return getCount();\r\n    }\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        LayoutInflater layoutInflater=(LayoutInflater) context.getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        final View activity_business = layoutInflater.inflate(R.layout.activity_sellerviewadapter,parent,false);\r\n        TextView myTitle = activity_business.findViewById(R.id.text);\r\n        TextView myDescription = activity_business.findViewById(R.id.description);\r\n        Button deletebusiness = activity_business.findViewById(R.id.deletebusiness);\r\n\r\n        if(this.business.get(position) != null && position>=0){\r\n            Business b=this.business.get(position);\r\n            myTitle.setText(b.getName());\r\n            myDescription.setText(\"vuota\");\r\n        }\r\n        deletebusiness.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.d(\"pos\", String.valueOf(position));\r\n                deleteBusiness(position);\r\n            }\r\n        });\r\n        return activity_business;\r\n    }\r\n\r\n    private void deleteBusiness(int position){\r\n        db.collection(\"attivita\").document(business.get(position).getUID())\r\n                .delete()\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        getSeller(position);\r\n                        Log.d(\"delete\", \"DocumentSnapshot successfully deleted!\");\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.w(\"delete\", \"Error deleting document\", e);\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void getSeller(int position)\r\n    {\r\n        db.collection(\"venditore\").document(UID).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n             if(task.isSuccessful())\r\n             {\r\n                 DocumentSnapshot document = task.getResult();\r\n                 Seller seller = new Seller();\r\n                 ArrayList<String> businessUID = (ArrayList<String>) document.get(\"businessUID\");\r\n                 businessUID.remove(position);\r\n                 SellerViewAdapter.this.business.remove(position);\r\n                 SellerViewAdapter.this.notifyDataSetChanged();\r\n                 Log.d(\"venditore\",businessUID.toString());\r\n                 updateSeller(businessUID);\r\n             }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void updateSeller(ArrayList<String> businessUID)\r\n    {\r\n        db.collection(\"venditore\").document(UID).update(\"businessUID\",businessUID).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<Void> task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                    Log.d(\"venditore\",\"eliminato dall'array\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/Seller/SellerViewAdapter.java	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
-+++ app/src/main/java/com/example/walktoshop/Seller/SellerViewAdapter.java	(date 1610959134429)
-@@ -50,7 +50,6 @@
-         }else{
-             return business.size();
-         }
--
-     }
-     @Override
-     public Object getItem(int position) {
-Index: app/src/main/res/layout/activity_sellerviewadapter.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:padding=\"16dp\"\r\n    android:id=\"@+id/itemPage\"\r\n    >\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"#EEEFF4\"\r\n        android:orientation=\"horizontal\">\r\n\r\n\r\n        <TextView\r\n            android:id=\"@+id/text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"5dp\"\r\n            android:padding=\"5dp\"\r\n            android:text=\"main\"\r\n            android:textColor=\"#000\"\r\n            android:textSize=\"20sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/deletebusiness\"\r\n            android:layout_width=\"50dp\"\r\n            android:layout_height=\"50dp\"\r\n            android:layout_marginLeft=\"310dp\"\r\n            android:layout_marginTop=\"20dp\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/description\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"50dp\"\r\n            android:padding=\"5dp\"\r\n            android:text=\"description\"\r\n            android:textColor=\"#000\"\r\n            android:textSize=\"20sp\" />\r\n\r\n\r\n    </RelativeLayout>\r\n\r\n</LinearLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_sellerviewadapter.xml	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
-+++ app/src/main/res/layout/activity_sellerviewadapter.xml	(date 1610959134409)
-@@ -3,8 +3,7 @@
-     xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent"
-     android:layout_height="match_parent"
-     android:padding="16dp"
--    android:id="@+id/itemPage"
--    >
-+    android:id="@+id/itemPage">
- 
-     <RelativeLayout
-         android:layout_width="match_parent"
Index: .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_12_11__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_12_11__Default_Changelist_.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_12_11__Default_Changelist_.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_20_01_2021_12_11_[Default_Changelist]" date="1611141087457" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_12_11_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 20/01/2021 12.11 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_21_01_2021_09_49__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_21_01_2021_09_49__Default_Changelist_.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_21_01_2021_09_49__Default_Changelist_.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_21_01_2021_09_49_[Default_Changelist]" date="1611219112441" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_21_01_2021_09_49_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 21/01/2021 09:49 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_16_34_[Default_Changelist]1/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_16_34_[Default_Changelist]1/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_16_34_[Default_Changelist]1/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,96 +0,0 @@
-Index: app/src/main/res/layout/activity_user_map_view.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\"com.example.walktoshop.User.UserView\"\r\n    android:orientation=\"horizontal\">\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/sellerViewProgressBar\"\r\n        style=\"?android:attr/progressBarStyle\"\r\n        android:layout_width=\"91dp\"\r\n        android:layout_height=\"81dp\"\r\n        android:layout_marginLeft=\"160dp\"\r\n        android:layout_marginTop=\"350dp\" />\r\n    <fragment xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:map=\"http://schemas.android.com/apk/res-auto\"\r\n        xmlns:tools=\"http://schemas.android.com/tools\"\r\n        android:id=\"@+id/map\"\r\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        tools:context=\"com.example.walktoshop.User.UserMapView\" />\r\n\r\n    <FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:tools=\"http://schemas.android.com/tools\"\r\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        tools:context=\"com.example.walktoshop.User.UserView\"\r\n        android:orientation=\"horizontal\">\r\n\r\n        <com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=\"@+id/bottom_navigation\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"bottom\"\r\n            style=\"@style/Widget.MaterialComponents.BottomNavigationView.Colored\"\r\n            app:menu=\"@menu/menu_bottom_navigation_view\"/>\r\n\r\n    </FrameLayout>\r\n\r\n    <FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:tools=\"http://schemas.android.com/tools\"\r\n        android:id=\"@+id/container\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"/>\r\n\r\n</androidx.coordinatorlayout.widget.CoordinatorLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_user_map_view.xml	(revision f46bcd3e467c54f71d37bafbbf7f4bfa3ce1745c)
-+++ app/src/main/res/layout/activity_user_map_view.xml	(date 1611154817196)
-@@ -7,13 +7,6 @@
-     tools:context="com.example.walktoshop.User.UserView"
-     android:orientation="horizontal">
- 
--    <ProgressBar
--        android:id="@+id/sellerViewProgressBar"
--        style="?android:attr/progressBarStyle"
--        android:layout_width="91dp"
--        android:layout_height="81dp"
--        android:layout_marginLeft="160dp"
--        android:layout_marginTop="350dp" />
-     <fragment xmlns:android="http://schemas.android.com/apk/res/android"
-         xmlns:map="http://schemas.android.com/apk/res-auto"
-         xmlns:tools="http://schemas.android.com/tools"
-Index: app/src/main/res/layout/activity_user_view.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\"com.example.walktoshop.User.UserView\"\r\n    android:orientation=\"horizontal\">\r\n\r\n    <com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=\"@+id/bottom_navigation\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"bottom\"\r\n        style=\"@style/Widget.MaterialComponents.BottomNavigationView.Colored\"\r\n        app:menu=\"@menu/menu_bottom_navigation_view\"/>\r\n\r\n</LinearLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_user_view.xml	(revision f46bcd3e467c54f71d37bafbbf7f4bfa3ce1745c)
-+++ app/src/main/res/layout/activity_user_view.xml	(date 1611155398494)
-@@ -1,5 +1,5 @@
- <?xml version="1.0" encoding="utf-8"?>
--<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
-     xmlns:tools="http://schemas.android.com/tools"
-     xmlns:app="http://schemas.android.com/apk/res-auto"
-     android:layout_width="match_parent"
-@@ -7,6 +7,15 @@
-     tools:context="com.example.walktoshop.User.UserView"
-     android:orientation="horizontal">
- 
-+    <ProgressBar
-+        android:id="@+id/sellerViewProgressBar"
-+        style="?android:attr/progressBarStyle"
-+        android:layout_width="91dp"
-+        android:layout_height="81dp"
-+        android:layout_marginLeft="160dp"
-+        android:layout_marginTop="250dp"
-+        android:visibility="gone" />
-+
-     <com.google.android.material.bottomnavigation.BottomNavigationView
-         android:id="@+id/bottom_navigation"
-         android:layout_width="match_parent"
-@@ -15,4 +24,4 @@
-         style="@style/Widget.MaterialComponents.BottomNavigationView.Colored"
-         app:menu="@menu/menu_bottom_navigation_view"/>
- 
--</LinearLayout>
-\ No newline at end of file
-+</androidx.coordinatorlayout.widget.CoordinatorLayout>
-\ No newline at end of file
-Index: app/src/main/AndroidManifest.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.walktoshop\">\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/>\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.Walktoshop\">\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n\r\n        <activity android:name=\".User.UserView\">\r\n        </activity>\r\n        <activity android:name=\".User.UserMapView\"></activity>\r\n        <activity android:name=\".Seller.SellerView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Seller.SellerMapView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.SignUp\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.LogIn\"\r\n            android:theme=\"@style/FullScreen\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n\r\n        </activity>\r\n        <activity android:name=\".Seller.ManageDiscount\">\r\n\r\n\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/AndroidManifest.xml	(revision f46bcd3e467c54f71d37bafbbf7f4bfa3ce1745c)
-+++ app/src/main/AndroidManifest.xml	(date 1611141360479)
-@@ -18,6 +18,11 @@
-             android:value="@string/google_maps_key" />
- 
-         <activity android:name=".User.UserView">
-+            <intent-filter>
-+                <action android:name="android.intent.action.MAIN" />
-+
-+                <category android:name="android.intent.category.LAUNCHER" />
-+            </intent-filter>
-         </activity>
-         <activity android:name=".User.UserMapView"></activity>
-         <activity android:name=".Seller.SellerView">
-@@ -31,11 +36,6 @@
-         </activity>
-         <activity android:name=".Login_SignUp.LogIn"
-             android:theme="@style/FullScreen">
--            <intent-filter>
--                <action android:name="android.intent.action.MAIN" />
--
--                <category android:name="android.intent.category.LAUNCHER" />
--            </intent-filter>
- 
-         </activity>
-         <activity android:name=".Seller.ManageDiscount">
Index: .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_12_11_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_12_11_[Default_Changelist]/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_12_11_[Default_Changelist]/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,220 +0,0 @@
-Index: app/src/main/AndroidManifest.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.walktoshop\">\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/>\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.Walktoshop\">\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n\r\n        <activity android:name=\".User.UserView\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".User.UserMapView\"></activity>\r\n        <activity android:name=\".Seller.SellerView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Seller.SellerMapView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.SignUp\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.LogIn\"\r\n            android:theme=\"@style/FullScreen\">\r\n\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/AndroidManifest.xml	(revision db210c6a3f6fd25085f52f9d4425e96eed3d161d)
-+++ app/src/main/AndroidManifest.xml	(date 1611135111153)
-@@ -37,6 +37,7 @@
-         <activity android:name=".Login_SignUp.LogIn"
-             android:theme="@style/FullScreen">
- 
-+
-         </activity>
-     </application>
- 
-Index: app/src/main/java/com/example/walktoshop/User/UserView.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.walktoshop.User;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.Manifest;\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Looper;\r\nimport android.provider.Settings;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationCallback;\r\nimport com.google.android.gms.location.LocationRequest;\r\nimport com.google.android.gms.location.LocationResult;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.libraries.places.api.model.Place;\r\nimport com.google.android.libraries.places.api.model.PlaceLikelihood;\r\nimport com.google.android.libraries.places.api.net.FindCurrentPlaceRequest;\r\nimport com.google.android.libraries.places.api.net.FindCurrentPlaceResponse;\r\nimport com.google.android.libraries.places.api.net.PlacesClient;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\nimport java.io.IOException;\r\nimport java.text.BreakIterator;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\n\r\npublic class UserView extends AppCompatActivity {\r\n    LocationManager service;\r\n    LocationListener locationListener;\r\n    private boolean statusOfGPS = false;\r\n    double longitude = 0;\r\n    double latitude = 0;\r\n    String city = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_user_view);\r\n        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()) {\r\n                    case R.id.action_home:\r\n                        goHome();\r\n                        break;\r\n                    case R.id.action_map:\r\n                        askGPSpermission();\r\n                        break;\r\n                    case R.id.action_statistics:\r\n                        break;\r\n                    case R.id.action_notification:\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n   private void getUserPosition() {\r\n        service = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(@NonNull Location location) {\r\n                latitude=location.getLatitude();\r\n                longitude=location.getLongitude();\r\n                goToUserViewMap();\r\n                Log.d(\"coordinates\",latitude+\"\\n\"+longitude);\r\n                try {\r\n                    Geocoder geocoder=new Geocoder(UserView.this);\r\n                    List<Address> addresses=new ArrayList<>();\r\n                    addresses=geocoder.getFromLocation(latitude,longitude,1);\r\n                    String country=addresses.get(0).getCountryName();\r\n                    String city=addresses.get(0).getLocality();\r\n                    Log.d(\"city\",city);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onProviderEnabled(@NonNull String provider) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onProviderDisabled(@NonNull String provider) {\r\n                new AlertDialog.Builder(UserView.this).setTitle(\"GPS dialog\").setMessage(\"Do you want to turn on gps?\")\r\n                        .setPositiveButton(\"Yes\", new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\r\n                                startActivity(intent);\r\n                            }\r\n                        }).setNegativeButton(\"Go Back\", null).show();\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n    private void askGPSpermission() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.INTERNET},10);\r\n            }\r\n            return;\r\n        }\r\n        int minTime;\r\n        getUserPosition();\r\n        service.requestLocationUpdates(\"gps\", 1000, 1000, locationListener);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch(requestCode){\r\n            case 10:\r\n                if(grantResults.length>0 && grantResults[0]==PackageManager.PERMISSION_GRANTED){\r\n\r\n                }else if(grantResults[0]==PackageManager.PERMISSION_DENIED){\r\n                    if(ActivityCompat.shouldShowRequestPermissionRationale(UserView.this,Manifest.permission.ACCESS_FINE_LOCATION)){\r\n                        //dialog in cui spiego\r\n                        new AlertDialog.Builder(UserView.this)\r\n                                .setTitle(\"Permission\")\r\n                                .setMessage(\"Denying permission you can't use geo-localization\")\r\n                                .setNeutralButton(\"ok\",null)\r\n                                .show();\r\n                    }\r\n                }\r\n                return;\r\n        }\r\n    }\r\n\r\n    private void goToUserViewMap() {\r\n        final Intent intent = new Intent(UserView.this, UserMapView.class);\r\n        intent.putExtra(\"latitude\", latitude);\r\n        intent.putExtra(\"longitude\", longitude);\r\n        startActivity(intent);\r\n\r\n    }\r\n\r\n    public void goHome() {\r\n        final Intent intent = new Intent(this, UserView.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    public void OnItemSelected(MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.action_search:\r\n                break;\r\n            case R.id.action_exit:\r\n                break;\r\n            case R.id.action_settings:\r\n                break;\r\n        }\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/User/UserView.java	(revision db210c6a3f6fd25085f52f9d4425e96eed3d161d)
-+++ app/src/main/java/com/example/walktoshop/User/UserView.java	(date 1611138086705)
-@@ -43,6 +43,7 @@
- import com.google.android.libraries.places.api.net.FindCurrentPlaceResponse;
- import com.google.android.libraries.places.api.net.PlacesClient;
- import com.google.android.material.bottomnavigation.BottomNavigationView;
-+import com.google.firebase.firestore.FirebaseFirestore;
- 
- import java.io.IOException;
- import java.text.BreakIterator;
-@@ -56,14 +57,13 @@
-     LocationManager service;
-     LocationListener locationListener;
-     private boolean statusOfGPS = false;
--    double longitude = 0;
--    double latitude = 0;
--    String city = null;
-+    double longitude;
-+    double latitude;
-+    String city;
- 
-     @Override
-     protected void onCreate(Bundle savedInstanceState) {
-         super.onCreate(savedInstanceState);
--
-         setContentView(R.layout.activity_user_view);
-         BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);
-         bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {
-@@ -86,22 +86,22 @@
-         });
-     }
- 
--   private void getUserPosition() {
-+    private void getUserPosition() {
-         service = (LocationManager) getSystemService(LOCATION_SERVICE);
-         locationListener = new LocationListener() {
-             @Override
-             public void onLocationChanged(@NonNull Location location) {
-                 latitude=location.getLatitude();
-                 longitude=location.getLongitude();
--                goToUserViewMap();
-                 Log.d("coordinates",latitude+"\n"+longitude);
-                 try {
-                     Geocoder geocoder=new Geocoder(UserView.this);
-                     List<Address> addresses=new ArrayList<>();
-                     addresses=geocoder.getFromLocation(latitude,longitude,1);
-                     String country=addresses.get(0).getCountryName();
--                    String city=addresses.get(0).getLocality();
--                    Log.d("city",city);
-+                    city=addresses.get(0).getLocality();
-+                    goToUserViewMap();
-+                    //Log.d("city",city);
-                 } catch (IOException e) {
-                     e.printStackTrace();
-                 }
-@@ -134,9 +134,8 @@
-             }
-             return;
-         }
--        int minTime;
-         getUserPosition();
--        service.requestLocationUpdates("gps", 1000, 1000, locationListener);
-+        service.requestLocationUpdates("gps", 500, 1000, locationListener);
-     }
- 
-     @Override
-@@ -164,6 +163,7 @@
-         final Intent intent = new Intent(UserView.this, UserMapView.class);
-         intent.putExtra("latitude", latitude);
-         intent.putExtra("longitude", longitude);
-+        intent.putExtra("city", city );
-         startActivity(intent);
- 
-     }
-Index: app/src/main/java/com/example/walktoshop/User/UserMapView.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.walktoshop.User;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ProgressBar;\r\n\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\n\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.Marker;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.ListIterator;\r\n\r\n\r\npublic class UserMapView extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnMarkerClickListener {\r\n    GoogleMap mMap;\r\n    ProgressBar progressBar;\r\n    List<LatLng> latLngs;\r\n    LocationManager service;\r\n    LocationListener locationListener;\r\n    double latitude;\r\n    double longitude;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_map_view);\r\n        Intent intent = getIntent();\r\n        latitude = intent.getDoubleExtra(\"latitude\", 0.0f);\r\n        longitude = intent.getDoubleExtra(\"longitude\", 0.0f);\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(UserMapView.this);\r\n\r\n        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()) {\r\n                    case R.id.action_home:\r\n                        goHome();\r\n                        break;\r\n                    case R.id.action_statistics:\r\n                        break;\r\n                    case R.id.action_notification:\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    //peppe devi fare qui le query per riempire l'ArrayList, usa l'iterator\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        latLngs = new ArrayList<LatLng>();\r\n        latLngs.add(new LatLng(41.187990927198975, 16.669861102796478));\r\n        latLngs.add(new LatLng(41.18824898295932, 16.66897696063842));\r\n        latLngs.add(new LatLng(41.188575016414724, 16.665692929489552));\r\n    }\r\n\r\n    public void goHome() {\r\n        final Intent intent = new Intent(this, UserView.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    public void OnItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.action_search:\r\n                break;\r\n            case R.id.action_exit:\r\n                break;\r\n            case R.id.action_settings:\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n\r\n        //progressBar.setVisibility(View.VISIBLE);\r\n        mMap = googleMap;\r\n        ListIterator<LatLng> iterator = latLngs.listIterator();\r\n        while(iterator.hasNext()){\r\n            mMap.addMarker(new MarkerOptions().position(iterator.next()));\r\n        }\r\n\r\n\r\n        // Add a marker in Sydney and move the camera\r\n        LatLng myPlace = new LatLng(latitude, longitude);\r\n        //mMap.addMarker(new MarkerOptions().position(italy).title(\"I'm here\"));\r\n       // mMap.moveCamera(CameraUpdateFactory.newLatLng(italy));\r\n        mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(myPlace, 15));\r\n        mMap.setOnMarkerClickListener(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onMarkerClick(Marker marker) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .add(R.id.container, new FragmentUserMapBackDrop()).commit();\r\n        return false;\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/User/UserMapView.java	(revision db210c6a3f6fd25085f52f9d4425e96eed3d161d)
-+++ app/src/main/java/com/example/walktoshop/User/UserMapView.java	(date 1611140791865)
-@@ -35,12 +35,19 @@
- import com.google.android.gms.maps.model.LatLng;
- import com.google.android.gms.maps.model.Marker;
- import com.google.android.gms.maps.model.MarkerOptions;
-+import com.google.android.gms.tasks.OnCompleteListener;
- import com.google.android.gms.tasks.OnSuccessListener;
- import com.google.android.gms.tasks.Task;
- import com.google.android.material.bottomnavigation.BottomNavigationView;
-+import com.google.firebase.FirebaseApp;
-+import com.google.firebase.firestore.DocumentSnapshot;
-+import com.google.firebase.firestore.FirebaseFirestore;
-+import com.google.firebase.firestore.QueryDocumentSnapshot;
-+import com.google.firebase.firestore.QuerySnapshot;
- 
- import java.io.IOException;
- import java.util.ArrayList;
-+import java.util.Iterator;
- import java.util.List;
- import java.util.ListIterator;
- 
-@@ -48,11 +55,13 @@
- public class UserMapView extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnMarkerClickListener {
-     GoogleMap mMap;
-     ProgressBar progressBar;
--    List<LatLng> latLngs;
-+    List<LatLng> latLngs = new ArrayList<LatLng>();
-     LocationManager service;
-     LocationListener locationListener;
-     double latitude;
-     double longitude;
-+    String city;
-+    FirebaseFirestore db =FirebaseFirestore.getInstance();
- 
-     @Override
-     protected void onCreate(@Nullable Bundle savedInstanceState) {
-@@ -61,6 +70,10 @@
-         Intent intent = getIntent();
-         latitude = intent.getDoubleExtra("latitude", 0.0f);
-         longitude = intent.getDoubleExtra("longitude", 0.0f);
-+        city = intent.getStringExtra("city");
-+        Log.d("city",city);
-+        getBusinessOnMap();
-+        Log.d("Dimension", String.valueOf(latLngs.size()));
-         SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()
-                 .findFragmentById(R.id.map);
-         mapFragment.getMapAsync(UserMapView.this);
-@@ -87,10 +100,25 @@
-     @Override
-     protected void onStart() {
-         super.onStart();
--        latLngs = new ArrayList<LatLng>();
--        latLngs.add(new LatLng(41.187990927198975, 16.669861102796478));
--        latLngs.add(new LatLng(41.18824898295932, 16.66897696063842));
--        latLngs.add(new LatLng(41.188575016414724, 16.665692929489552));
-+
-+    }
-+    private void getBusinessOnMap(){
-+        db.collection("attivita").whereEqualTo("locality", city).get().addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {
-+            @Override
-+            public void onComplete(@NonNull Task<QuerySnapshot> task) {
-+                if(task.isSuccessful()){
-+                    for (QueryDocumentSnapshot document : task.getResult()){
-+                        double lat = Double.parseDouble(document.getString("latitude"));
-+                        Log.d("latitude", String.valueOf(lat));
-+                        double longt = Double.parseDouble(document.getString("longitude"));
-+                        Log.d("longitude", String.valueOf(longt));
-+                        latLngs.add(new LatLng(lat, longt));
-+                        Log.d("LatLng", String.valueOf(latLngs));
-+                        Log.d("Attivit", String.valueOf(document.getData()));
-+                    }
-+                }
-+            }
-+        });
-     }
- 
-     public void goHome() {
-@@ -120,16 +148,12 @@
- 
-     @Override
-     public void onMapReady(GoogleMap googleMap) {
--
--        //progressBar.setVisibility(View.VISIBLE);
-         mMap = googleMap;
--        ListIterator<LatLng> iterator = latLngs.listIterator();
-+        Iterator<LatLng> iterator = latLngs.listIterator();
-         while(iterator.hasNext()){
-+            Log.d("Iterator", String.valueOf(iterator.next().latitude)+"-"+iterator.next().longitude);
-             mMap.addMarker(new MarkerOptions().position(iterator.next()));
-         }
--
--
--        // Add a marker in Sydney and move the camera
-         LatLng myPlace = new LatLng(latitude, longitude);
-         //mMap.addMarker(new MarkerOptions().position(italy).title("I'm here"));
-        // mMap.moveCamera(CameraUpdateFactory.newLatLng(italy));
-Index: app/src/main/res/drawable/backdrop_shape.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:shape=\"rectangle\">\r\n\r\n    <solid android:color=\"@color/white\" />\r\n    <corners android:topLeftRadius=\"32dp\" android:topRightRadius=\"32dp\" />\r\n\r\n</shape>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/drawable/backdrop_shape.xml	(revision db210c6a3f6fd25085f52f9d4425e96eed3d161d)
-+++ app/src/main/res/drawable/backdrop_shape.xml	(date 1611070928973)
-@@ -2,6 +2,6 @@
- <shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">
- 
-     <solid android:color="@color/white" />
--    <corners android:topLeftRadius="32dp" android:topRightRadius="32dp" />
-+    <corners android:topLeftRadius="20dp" android:topRightRadius="20dp" />
- 
- </shape>
-\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_16_34__Default_Changelist_1.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_16_34__Default_Changelist_1.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_16_34__Default_Changelist_1.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_20_01_2021_16_34_[Default_Changelist]1" date="1611156962239" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_16_34_[Default_Changelist]1/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 20/01/2021 16.34 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_17_01_2021_15_39__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_17_01_2021_15_39__Default_Changelist_.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_17_01_2021_15_39__Default_Changelist_.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_17_01_2021_15_39_[Default_Changelist]" date="1610894354462" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_17_01_2021_15_39_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 17/01/2021 15.39 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_18_01_2021_15_46__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_18_01_2021_15_46__Default_Changelist_.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_18_01_2021_15_46__Default_Changelist_.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_18_01_2021_15_46_[Default_Changelist]" date="1610981204696" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_18_01_2021_15_46_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 18/01/2021 15.46 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_21_01_2021_09_49_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_21_01_2021_09_49_[Default_Changelist]/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_21_01_2021_09_49_[Default_Changelist]/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,165 +0,0 @@
-Index: app/src/main/java/com/example/walktoshop/User/UserView.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.walktoshop.User;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.Manifest;\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.Settings;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\n\r\n\r\nimport com.example.walktoshop.R;\r\n\r\nimport com.example.walktoshop.Seller.Discount;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.io.IOException;\r\nimport java.text.BreakIterator;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\n\r\npublic class UserView extends AppCompatActivity {\r\n    LocationManager service;\r\n    LocationListener locationListener;\r\n    FirebaseFirestore db =FirebaseFirestore.getInstance();\r\n    private boolean statusOfGPS = false;\r\n    double longitude;\r\n    double latitude;\r\n    String city;\r\n    private String userUID=null;\r\n    private ArrayList<Discount> myDiscounts= new ArrayList<>();\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_view);\r\n        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()) {\r\n                    case R.id.action_home:\r\n                        goHome();\r\n                        break;\r\n                    case R.id.action_map:\r\n                        askGPSpermission();\r\n                        break;\r\n                    case R.id.action_statistics:\r\n                        break;\r\n                    case R.id.action_notification:\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n        Intent intent =getIntent();\r\n        if(intent.hasExtra(\"UID\")){\r\n            this.userUID = intent.getStringExtra(\"UID\");\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        getUserDiscounts();\r\n\r\n    }\r\n    private void getUserDiscounts(){\r\n        db.collection(\"utente\").document(userUID).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                if(task.isSuccessful()){\r\n                    DocumentSnapshot document= task.getResult();\r\n                    ArrayList<String> discountUID = (ArrayList) document.get(\"disocuntUID\");\r\n                    if(discountUID!=null){\r\n                        getMyDiscounts(discountUID);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void getMyDiscounts(ArrayList discountUID){\r\n        Iterator it =discountUID.iterator();\r\n        while(it.hasNext()){\r\n            String uid= (String) it.next();\r\n            db.collection(\"sconti\").document(uid).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                    if(task.isSuccessful()){\r\n                        DocumentSnapshot document= task.getResult();\r\n                        Discount discount=new Discount();\r\n                        discount.setExpiringDate(document.getString(\"expiringDate\"));\r\n                        discount.setBusinessUID(document.getString(\"businessUID\"));\r\n                        discount.setState(document.getString(\"state\"));\r\n                        discount.setDescription(document.getString(\"description\"));\r\n                        discount.setStepNumber(document.getString(\"stepNumber\"));\r\n                        discount.setBusinessUID(document.getString(\"businessUID\"));\r\n                        myDiscounts.add(discount);\r\n                    }\r\n                }\r\n            }).addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                    Log.d(\"myDiscounts\",myDiscounts.get(0).getDescription());\r\n                }\r\n            });\r\n        }\r\n    }\r\n    private void getUserPosition() {\r\n        service = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(@NonNull Location location) {\r\n                latitude=location.getLatitude();\r\n                longitude=location.getLongitude();\r\n                Log.d(\"coordinates\",latitude+\"\\n\"+longitude);\r\n                try {\r\n                    Geocoder geocoder=new Geocoder(UserView.this);\r\n                    List<Address> addresses=new ArrayList<>();\r\n                    addresses=geocoder.getFromLocation(latitude,longitude,1);\r\n                    String country=addresses.get(0).getCountryName();\r\n                    city=addresses.get(0).getLocality();\r\n                    goToUserViewMap();\r\n                    //Log.d(\"city\",city);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onProviderEnabled(@NonNull String provider) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onProviderDisabled(@NonNull String provider) {\r\n                new AlertDialog.Builder(UserView.this).setTitle(\"GPS dialog\").setMessage(\"Do you want to turn on gps?\")\r\n                        .setPositiveButton(\"Yes\", new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\r\n                                startActivity(intent);\r\n                            }\r\n                        }).setNegativeButton(\"Go Back\", null).show();\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n    private void askGPSpermission() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.INTERNET},10);\r\n            }\r\n            return;\r\n        }\r\n        getUserPosition();\r\n        service.requestLocationUpdates(\"gps\", 500, 1000, locationListener);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch(requestCode){\r\n            case 10:\r\n                if(grantResults.length>0 && grantResults[0]==PackageManager.PERMISSION_GRANTED){\r\n\r\n                }else if(grantResults[0]==PackageManager.PERMISSION_DENIED){\r\n                    if(ActivityCompat.shouldShowRequestPermissionRationale(UserView.this,Manifest.permission.ACCESS_FINE_LOCATION)){\r\n                        //dialog in cui spiego\r\n                        new AlertDialog.Builder(UserView.this)\r\n                                .setTitle(\"Permission\")\r\n                                .setMessage(\"Denying permission you can't use geo-localization\")\r\n                                .setNeutralButton(\"ok\",null)\r\n                                .show();\r\n                    }\r\n                }\r\n                return;\r\n        }\r\n    }\r\n\r\n    private void goToUserViewMap() {\r\n        final Intent intent = new Intent(UserView.this, UserMapView.class);\r\n        intent.putExtra(\"latitude\", latitude);\r\n        intent.putExtra(\"longitude\", longitude);\r\n        intent.putExtra(\"city\", city );\r\n        startActivity(intent);\r\n\r\n    }\r\n\r\n    public void goHome() {\r\n        final Intent intent = new Intent(this, UserView.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    public void OnItemSelected(MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.action_search:\r\n                break;\r\n            case R.id.action_exit:\r\n                break;\r\n            case R.id.action_settings:\r\n                break;\r\n        }\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/User/UserView.java	(revision 7b60eb0ed91cee5e193ee06d0023ff65e2da5d94)
-+++ app/src/main/java/com/example/walktoshop/User/UserView.java	(date 1611157073057)
-@@ -22,11 +22,14 @@
- import android.util.Log;
- import android.view.Menu;
- import android.view.MenuItem;
-+import android.widget.ListView;
- 
- 
- import com.example.walktoshop.R;
- 
- import com.example.walktoshop.Seller.Discount;
-+import com.example.walktoshop.Seller.SellerView;
-+import com.example.walktoshop.Seller.SellerViewAdapter;
- import com.google.android.gms.tasks.OnCompleteListener;
- import com.google.android.gms.tasks.Task;
- import com.google.android.material.bottomnavigation.BottomNavigationView;
-@@ -46,6 +49,7 @@
-     LocationManager service;
-     LocationListener locationListener;
-     FirebaseFirestore db =FirebaseFirestore.getInstance();
-+    private ListView homeListView;
-     private boolean statusOfGPS = false;
-     double longitude;
-     double latitude;
-@@ -56,6 +60,7 @@
-     protected void onCreate(Bundle savedInstanceState) {
-         super.onCreate(savedInstanceState);
-         setContentView(R.layout.activity_user_view);
-+        homeListView=findViewById(R.id.homeListView);
-         BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);
-         bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {
-             @Override
-@@ -123,7 +128,8 @@
-             }).addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {
-                 @Override
-                 public void onComplete(@NonNull Task<DocumentSnapshot> task) {
--                    Log.d("myDiscounts",myDiscounts.get(0).getDescription());
-+                    //final SellerViewAdapter adapter=new SellerViewAdapter(UserView.this,myDiscounts, userUID,null,"userHome");
-+                    //homeListView.setAdapter(adapter);
-                 }
-             });
-         }
-Index: app/src/main/res/layout/activity_user_view.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.coordinatorlayout.widget.CoordinatorLayout\r\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\r\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\nxmlns:tools=\"http://schemas.android.com/tools\"\r\nandroid:layout_width=\"match_parent\"\r\nandroid:layout_height=\"match_parent\">\r\n\r\n<ProgressBar\r\n    android:id=\"@+id/sellerViewProgressBar\"\r\n    style=\"?android:attr/progressBarStyle\"\r\n    android:layout_width=\"91dp\"\r\n    android:layout_height=\"81dp\"\r\n    android:layout_marginLeft=\"160dp\"\r\n    android:layout_marginTop=\"350dp\"\r\n    android:visibility=\"gone\"/>\r\n\r\n\r\n<androidx.cardview.widget.CardView\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:layout_margin=\"8dp\"\r\n    android:id=\"@+id/card\">\r\n\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <ImageView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"194dp\"\r\n            app:srcCompat=\"@drawable/feltrinelli\"/>\r\n\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"16dp\">\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"La Mia Attivit\"\r\n                android:textAppearance=\"?attr/textAppearanceHeadline4\"/>\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:text=\"Sconti Attivi\"\r\n                android:textAppearance=\"?attr/textAppearanceHeadline5\"/>\r\n\r\n\r\n\r\n        </LinearLayout>\r\n\r\n\r\n\r\n    </LinearLayout>\r\n\r\n</androidx.cardview.widget.CardView>\r\n\r\n<com.google.android.material.floatingactionbutton.FloatingActionButton\r\n    android:id=\"@+id/fab\"\r\n    android:layout_width=\"wrap_content\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_gravity=\"bottom|right\"\r\n    android:layout_marginRight=\"@dimen/material_bottom_margin\"\r\n    android:layout_marginBottom=\"@dimen/material_botton_margin\"\r\n    android:src=\"@drawable/baseline_add_black_18dp\"\r\n    app:backgroundTint=\"@color/verde_maggio\"\r\n    app:backgroundTintMode=\"src_over\"\r\n    app:fabSize=\"normal\"\r\n    app:rippleColor=\"#00FF00\" />\r\n    <com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=\"@+id/bottom_navigation\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"bottom\"\r\n        style=\"@style/Widget.MaterialComponents.BottomNavigationView.Colored\"\r\n        app:menu=\"@menu/menu_bottom_navigation_view\"/>\r\n\r\n</androidx.coordinatorlayout.widget.CoordinatorLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_user_view.xml	(revision 7b60eb0ed91cee5e193ee06d0023ff65e2da5d94)
-+++ app/src/main/res/layout/activity_user_view.xml	(date 1611157073063)
-@@ -52,15 +52,19 @@
-                 android:layout_marginTop="8dp"
-                 android:text="Sconti Attivi"
-                 android:textAppearance="?attr/textAppearanceHeadline5"/>
--
--
--
-         </LinearLayout>
--
-+        <LinearLayout
-+            android:layout_width="match_parent"
-+            android:layout_height="match_parent"
-+            android:orientation="vertical">
-+            <ListView
-+                android:id="@+id/homeListView"
-+                android:layout_width="match_parent"
-+                android:layout_height="370dp">
- 
--
-+            </ListView>
-+        </LinearLayout>
-     </LinearLayout>
--
- </androidx.cardview.widget.CardView>
- 
- <com.google.android.material.floatingactionbutton.FloatingActionButton
-Index: app/src/main/java/com/example/walktoshop/Seller/SellerView.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.walktoshop.Seller;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.Button;\r\nimport android.widget.ListView;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.coordinatorlayout.widget.CoordinatorLayout;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport com.example.walktoshop.Login_SignUp.Fragment_SignUp;\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.snackbar.BaseTransientBottomBar;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class SellerView extends AppCompatActivity {\r\n    private ListView listView;\r\n    private String UID=null;\r\n    private ProgressBar progressBar;\r\n    private Button addActivityButton;\r\n    FirebaseFirestore db =FirebaseFirestore.getInstance();\r\n    private ArrayList<Discount> discountArray=new ArrayList<>();\r\n    private ArrayList<String> businessUID =new ArrayList<>();\r\n    private ArrayList<String> discountUID = new ArrayList<>();\r\n    private FloatingActionButton mFab;\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_seller_view);\r\n        //View coordinatorLayout = findViewById(android.R.id.content);\r\n        addActivityButton=(Button)findViewById(R.id.addActivityButton);\r\n        addActivityButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                goSellerMapView();\r\n                addActivityButton.setVisibility(View.INVISIBLE);\r\n            }\r\n        });\r\n        mFab = (FloatingActionButton) findViewById(R.id.fab);\r\n        mFab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startManageDiscount();\r\n            }\r\n        });\r\n        progressBar=findViewById(R.id.sellerViewProgressBar);\r\n        listView=findViewById(R.id.listView);\r\n        Intent intent = getIntent();\r\n        if(intent.hasExtra(\"UID\")){\r\n            UID=intent.getStringExtra(\"UID\");\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        getSellerBusinessUID();\r\n        if(discountUID==null){\r\n            addActivityButton.setVisibility(View.INVISIBLE);\r\n        }else if(discountUID.isEmpty()){\r\n            Log.d(\"bi\",discountUID.toString());\r\n            addActivityButton.setVisibility(View.INVISIBLE);\r\n        }else\r\n        {\r\n            //editext con su scritto non hai alcuno sconto disponibile\r\n        }\r\n    }\r\n\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    public void OnItemSelected(MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.action_search:\r\n                break;\r\n            case R.id.action_exit:\r\n                break;\r\n            case R.id.action_settings:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void getSellerBusinessUID(){\r\n        if(UID!=null){\r\n            db.collection(\"venditore\").document(this.UID).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                    if(task.isSuccessful()){\r\n                        DocumentSnapshot document= task.getResult();\r\n                        businessUID= (ArrayList) document.get(\"businessUID\");\r\n                        //se ha delle attivit le recupera\r\n                        Log.d(\"businessUID\",businessUID.toString());\r\n                        if(businessUID.size()>0 && businessUID!=null && !businessUID.isEmpty()){\r\n                            progressBar.setVisibility(View.VISIBLE);\r\n                            getBusiness();\r\n                            progressBar.setVisibility(View.INVISIBLE);\r\n                        }else{\r\n                            addActivityButton.setVisibility(View.VISIBLE);\r\n                            progressBar.setVisibility(View.INVISIBLE);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    private void getBusiness(){\r\n        if(businessUID!=null && !businessUID.isEmpty()){\r\n            for(int i=0;i<businessUID.size();i++){\r\n                String b=businessUID.get(i);\r\n                Log.d(\"b\",b);\r\n                db.collection(\"attivita\").document(b).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                        if(task.isSuccessful()){\r\n                            DocumentSnapshot document= task.getResult();\r\n                            if (document.exists()) {\r\n                                //Log.d(\"TAG\", \"DocumentSnapshot data: \" + document.getData());\r\n                                discountUID=(ArrayList) document.get(\"discountUID\");\r\n                                //Log.d(\"TAG\", \"uid dello sconto\" + discountUID.toString());\r\n                                if(discountUID!=null && !discountUID.isEmpty()){\r\n                                    getDiscounts();\r\n                                }else{\r\n                                    final SellerViewAdapter adapter=new SellerViewAdapter(SellerView.this,discountArray, UID,businessUID);\r\n                                    listView.setAdapter(adapter);\r\n                                }\r\n                            } else {\r\n                                Log.d(\"TAG\", \"No such document\");\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n    }\r\n    private void getDiscounts(){\r\n        discountArray.clear();\r\n            for(int k=0;k<discountUID.size();k++){\r\n                db.collection(\"sconti\").document(discountUID.get(k)).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                        if(task.isSuccessful()){\r\n                            Discount discount=new Discount();\r\n                            DocumentSnapshot document=task.getResult();\r\n                            discount.setUID(document.getString(\"uid\"));\r\n                            discount.setBusinessUID(document.getString(\"businessUID\"));\r\n                            discount.setState(document.getString(\"state\"));\r\n                            discount.setExpiringDate(document.getString(\"expiringDate\"));\r\n                            discount.setStepNumber(document.getString(\"stepNumber\"));\r\n                            discount.setPercentage(document.getString(\"percentage\"));\r\n                            discount.setDescription(document.getString(\"description\"));\r\n                            discount.setDiscountsQuantity(document.getString(\"discountsQuantity\"));\r\n                            discountArray.add(discount);\r\n                        }\r\n                    }\r\n                }).addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                        for(int i=0;i<discountArray.size();i++){\r\n                            Log.d(\"array\",discountArray.get(i).getDescription()+\" \");\r\n                        }\r\n                        final SellerViewAdapter adapter=new SellerViewAdapter(SellerView.this,discountArray, UID,businessUID);\r\n                        listView.setAdapter(adapter);\r\n                    }\r\n                });\r\n            }\r\n    }\r\n    private void dialog(){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        // Add the buttons\r\n        builder.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int id) {\r\n                // User clicked OK button\r\n                goSellerMapView();\r\n\r\n            }\r\n        }).setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int id) {\r\n                // User cancelled the dialog\r\n            }\r\n        }).setMessage(R.string.emptyBusiness);\r\n        // Set other d\r\n        builder.show();\r\n    }\r\n    private void goSellerMapView(){\r\n        final Intent intent = new Intent(this, SellerMapView.class);\r\n        intent.putExtra(\"UID\",UID);\r\n        startActivity(intent);\r\n    }\r\n    private void startManageDiscount(){\r\n        final Intent intent = new Intent(this, ManageDiscount.class);\r\n        intent.putExtra(\"businessUID\",businessUID.get(0));\r\n        //Log.d(\"u\",businessUID.get(0).toString());\r\n        startActivity(intent);\r\n    }\r\n}\r\n\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/Seller/SellerView.java	(revision 7b60eb0ed91cee5e193ee06d0023ff65e2da5d94)
-+++ app/src/main/java/com/example/walktoshop/Seller/SellerView.java	(date 1611155402190)
-@@ -146,7 +146,7 @@
-                                 if(discountUID!=null && !discountUID.isEmpty()){
-                                     getDiscounts();
-                                 }else{
--                                    final SellerViewAdapter adapter=new SellerViewAdapter(SellerView.this,discountArray, UID,businessUID);
-+                                    final SellerViewAdapter adapter=new SellerViewAdapter(SellerView.this,discountArray, UID,businessUID,"sellerHome");
-                                     listView.setAdapter(adapter);
-                                 }
-                             } else {
-@@ -185,7 +185,7 @@
-                         for(int i=0;i<discountArray.size();i++){
-                             Log.d("array",discountArray.get(i).getDescription()+" ");
-                         }
--                        final SellerViewAdapter adapter=new SellerViewAdapter(SellerView.this,discountArray, UID,businessUID);
-+                        final SellerViewAdapter adapter=new SellerViewAdapter(SellerView.this,discountArray, UID,businessUID,"sellerHome");
-                         listView.setAdapter(adapter);
-                     }
-                 });
-Index: app/src/main/java/com/example/walktoshop/Seller/SellerViewAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.walktoshop.Seller;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport com.example.walktoshop.R;\r\nimport com.example.walktoshop.Seller.Business;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FieldValue;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class SellerViewAdapter extends ArrayAdapter {\r\n    private Context context;\r\n    private ArrayList<Discount> discounts;\r\n    private String UID;\r\n    private ArrayList<String> businessUID;\r\n    FirebaseFirestore db =FirebaseFirestore.getInstance();\r\n\r\n\r\n    public SellerViewAdapter(Context context, ArrayList<Discount> discounts, String UID,ArrayList businessUID) {\r\n        super(context, R.layout.activity_sellerviewadapter);\r\n        this.context=context;\r\n        this.discounts=discounts;\r\n        this.UID = UID;\r\n        this.businessUID = businessUID;\r\n    }\r\n    @Override\r\n    public int getCount() {\r\n        return discounts.size();\r\n    }\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return discounts.get(position);\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n    @Override\r\n    public int getViewTypeCount() {\r\n        if(getCount() > 0){\r\n            return getCount();\r\n        }else{\r\n            return super.getViewTypeCount();\r\n        }\r\n    }\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        LayoutInflater layoutInflater=(LayoutInflater) context.getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        final View activity_business = layoutInflater.inflate(R.layout.activity_sellerviewadapter,parent,false);\r\n        //caratteristiche card di sconto\r\n        TextView myTitle = activity_business.findViewById(R.id.text);\r\n\r\n        TextView myDescription = activity_business.findViewById(R.id.description);\r\n        //bottone eliminazione\r\n        Button deletebusiness = activity_business.findViewById(R.id.deletebusiness);\r\n        //bottone attivazione contapassi\r\n\r\n        //bottone abilitazione\r\n\r\n        if(this.discounts.get(position) != null && position>=0 && !discounts.isEmpty()){\r\n            Discount d=this.discounts.get(position);\r\n            Log.d(\"nome\",discounts.get(position).getDescription() + position);\r\n            myTitle.setText(d.getDescription());\r\n            myDescription.setText(\"vuota\");\r\n            deletebusiness.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Log.d(\"p\",discounts.get(position).getUID()+\" \");\r\n                        getBusiness(position);\r\n                }\r\n            });\r\n        }else{\r\n            Log.d(\"else\",\"else\");\r\n        }\r\n        return activity_business;\r\n    }\r\n\r\n    private void deleteDiscount(int position){\r\n        //getBusiness(position);\r\n        db.collection(\"sconti\").document(discounts.get(position).getUID())\r\n                .delete()\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Log.d(\"delete\", \"DocumentSnapshot successfully deleted!\");\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.w(\"delete\", \"Error deleting document\", e);\r\n                    }\r\n                }).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<Void> task) {\r\n                SellerViewAdapter.this.discounts.remove(position);\r\n                SellerViewAdapter.this.notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void getBusiness(int position)\r\n    {\r\n        db.collection(\"attivita\").document(businessUID.get(0)).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                if(task.isSuccessful())\r\n                {   Log.d(\"position\",position+\" \");\r\n                    DocumentSnapshot document = task.getResult();\r\n                    ArrayList<String> discountUID = (ArrayList<String>) document.get(\"discountUID\");\r\n                    discountUID.remove(position);\r\n                    Log.d(\"disocuntUID\", discountUID.size()+\" \");\r\n                    updateBusiness(discountUID,position);\r\n                }else{\r\n                    Log.d(\"non successo\",\"non successo\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void updateBusiness(ArrayList<String> discountUID,int position)\r\n    {\r\n        db.collection(\"attivita\").document(businessUID.get(0)).update(\"discountUID\",discountUID).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<Void> task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                    deleteDiscount(position);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/Seller/SellerViewAdapter.java	(revision 7b60eb0ed91cee5e193ee06d0023ff65e2da5d94)
-+++ app/src/main/java/com/example/walktoshop/Seller/SellerViewAdapter.java	(date 1611155402197)
-@@ -39,14 +39,16 @@
-     private ArrayList<Discount> discounts;
-     private String UID;
-     private ArrayList<String> businessUID;
-+    private String usage;
-     FirebaseFirestore db =FirebaseFirestore.getInstance();
- 
- 
--    public SellerViewAdapter(Context context, ArrayList<Discount> discounts, String UID,ArrayList businessUID) {
-+    public SellerViewAdapter(Context context, ArrayList<Discount> discounts, String UID,ArrayList businessUID,String usage) {
-         super(context, R.layout.activity_sellerviewadapter);
-         this.context=context;
-         this.discounts=discounts;
-         this.UID = UID;
-+        this.usage= usage;
-         this.businessUID = businessUID;
-     }
-     @Override
-@@ -95,15 +97,17 @@
-             Log.d("nome",discounts.get(position).getDescription() + position);
-             myTitle.setText(d.getDescription());
-             myDescription.setText("vuota");
--            deletebusiness.setOnClickListener(new View.OnClickListener() {
--                @Override
--                public void onClick(View v) {
--                    Log.d("p",discounts.get(position).getUID()+" ");
-+            deletebusiness.setVisibility(View.GONE);
-+            if(this.usage=="sellerHome"){
-+                deletebusiness.setVisibility(View.VISIBLE);
-+                deletebusiness.setOnClickListener(new View.OnClickListener() {
-+                    @Override
-+                    public void onClick(View v) {
-+                        Log.d("p",discounts.get(position).getUID()+" ");
-                         getBusiness(position);
--                }
--            });
--        }else{
--            Log.d("else","else");
-+                    }
-+                });
-+            }
-         }
-         return activity_business;
-     }
Index: .idea/shelf/Uncommitted_changes_before_Update_at_17_01_2021_15_39_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_17_01_2021_15_39_[Default_Changelist]/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_17_01_2021_15_39_[Default_Changelist]/shelved.patch	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
@@ -1,262 +0,0 @@
-Index: app/build.gradle
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>plugins {\r\n    id 'com.android.application'\r\n    id 'com.google.gms.google-services'\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.walktoshop\"\r\n        minSdkVersion 23\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    def fragment_version = \"1.2.5\"\r\n    // Java language implementation\r\n    implementation \"androidx.fragment:fragment:$fragment_version\"\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    implementation 'com.google.firebase:firebase-auth:20.0.2'\r\n    implementation 'com.google.firebase:firebase-firestore:22.0.1'\r\n    implementation 'com.google.android.gms:play-services-maps:8.3.0'\r\n    implementation 'com.google.android.libraries.places:places:2.4.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    testImplementation 'junit:junit:4.+'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/build.gradle	(revision 0defd64b2778c7d69e9a904ae16a109c3bec1da8)
-+++ app/build.gradle	(date 1610888903072)
-@@ -37,9 +37,10 @@
-     implementation 'com.google.android.material:material:1.2.1'
-     implementation 'com.google.firebase:firebase-auth:20.0.2'
-     implementation 'com.google.firebase:firebase-firestore:22.0.1'
--    implementation 'com.google.android.gms:play-services-maps:8.3.0'
-+    implementation 'com.google.android.gms:play-services-maps:17.0.0'
-     implementation 'com.google.android.libraries.places:places:2.4.0'
-     implementation 'androidx.constraintlayout:constraintlayout:2.0.4'
-+    implementation "androidx.swiperefreshlayout:swiperefreshlayout:1.1.0"
-     testImplementation 'junit:junit:4.+'
-     androidTestImplementation 'androidx.test.ext:junit:1.1.2'
-     androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'
-Index: app/src/main/res/layout/activity_seller_map_view.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"horizontal\">\r\n\r\n    <fragment xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:map=\"http://schemas.android.com/apk/res-auto\"\r\n        xmlns:tools=\"http://schemas.android.com/tools\"\r\n        android:id=\"@+id/map\"\r\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        tools:context=\"com.example.WalktoShop.MapsActivity\" />\r\n\r\n    <androidx.appcompat.widget.SearchView\r\n        android:id=\"@+id/search_bar\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentTop=\"true\"\r\n        android:queryHint=\"Search..\"\r\n        android:iconifiedByDefault=\"false\"\r\n        android:layout_margin=\"10dp\"\r\n        android:elevation=\"5dp\"\r\n        android:background=\"#FFFF\"\r\n        android:layout_marginBottom=\"683dp\" />\r\n\r\n</RelativeLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_seller_map_view.xml	(revision 0defd64b2778c7d69e9a904ae16a109c3bec1da8)
-+++ app/src/main/res/layout/activity_seller_map_view.xml	(date 1610879350239)
-@@ -13,7 +13,7 @@
-         android:name="com.google.android.gms.maps.SupportMapFragment"
-         android:layout_width="match_parent"
-         android:layout_height="match_parent"
--        tools:context="com.example.WalktoShop.MapsActivity" />
-+        tools:context="com.example.walktoshop.Seller.SellerMapView" />
- 
-     <androidx.appcompat.widget.SearchView
-         android:id="@+id/search_bar"
-Index: app/src/main/AndroidManifest.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.walktoshop\">\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.Walktoshop\">\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n\r\n        <activity android:name=\".User.UserView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Seller.SellerView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Seller.SellerMapView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.SignUp\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.LogIn\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/AndroidManifest.xml	(revision 0defd64b2778c7d69e9a904ae16a109c3bec1da8)
-+++ app/src/main/AndroidManifest.xml	(date 1610882490639)
-@@ -17,7 +17,11 @@
-             android:value="@string/google_maps_key" />
- 
-         <activity android:name=".User.UserView">
-+            <intent-filter>
-+                <action android:name="android.intent.action.MAIN" />
- 
-+                <category android:name="android.intent.category.LAUNCHER" />
-+            </intent-filter>
-         </activity>
-         <activity android:name=".Seller.SellerView">
- 
-@@ -29,12 +33,9 @@
- 
-         </activity>
-         <activity android:name=".Login_SignUp.LogIn">
--            <intent-filter>
--                <action android:name="android.intent.action.MAIN" />
- 
--                <category android:name="android.intent.category.LAUNCHER" />
--            </intent-filter>
-         </activity>
-+        <activity android:name=".User.UserMapView"></activity>
-     </application>
- 
- </manifest>
-\ No newline at end of file
-Index: app/src/main/java/com/example/walktoshop/User/UserView.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.walktoshop.User;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ActionBar;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\n\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\npublic class UserView extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_view);\r\n        ActionBar actionBar = getActionBar();\r\n        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()) {\r\n                    case R.id.action_home:\r\n                        goHome();\r\n                        break;\r\n                    case R.id.action_map:\r\n                        break;\r\n                    case R.id.action_statistics:\r\n                        break;\r\n                    case R.id.action_notification:\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void goHome() {\r\n        final Intent intent = new Intent(this, UserView.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    public void OnItemSelected(MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.action_search:\r\n                break;\r\n            case R.id.action_exit:\r\n                break;\r\n            case R.id.action_settings:\r\n                break;\r\n        }\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/User/UserView.java	(revision 0defd64b2778c7d69e9a904ae16a109c3bec1da8)
-+++ app/src/main/java/com/example/walktoshop/User/UserView.java	(date 1610885180018)
-@@ -2,13 +2,10 @@
- 
- import androidx.annotation.NonNull;
- import androidx.appcompat.app.AppCompatActivity;
--
--import android.app.ActionBar;
- import android.content.Intent;
- import android.os.Bundle;
- import android.view.Menu;
- import android.view.MenuItem;
--
- import com.example.walktoshop.R;
- import com.google.android.material.bottomnavigation.BottomNavigationView;
- 
-@@ -18,7 +15,6 @@
-     protected void onCreate(Bundle savedInstanceState) {
-         super.onCreate(savedInstanceState);
-         setContentView(R.layout.activity_user_view);
--        ActionBar actionBar = getActionBar();
-         BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);
-         bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {
-             @Override
-@@ -28,6 +24,7 @@
-                         goHome();
-                         break;
-                     case R.id.action_map:
-+                        goToUserViewMap();
-                         break;
-                     case R.id.action_statistics:
-                         break;
-@@ -39,6 +36,11 @@
-         });
-     }
- 
-+    private void goToUserViewMap() {
-+       final Intent intent = new Intent(this, UserMapView.class);
-+       startActivity(intent);
-+    }
-+
- 
-     public void goHome() {
-         final Intent intent = new Intent(this, UserView.class);
-Index: app/src/main/res/layout/activity_user_map_view.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_user_map_view.xml	(date 1610889539840)
-+++ app/src/main/res/layout/activity_user_map_view.xml	(date 1610889539840)
-@@ -0,0 +1,29 @@
-+<?xml version="1.0" encoding="utf-8"?>
-+<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+    xmlns:tools="http://schemas.android.com/tools"
-+    xmlns:app="http://schemas.android.com/apk/res-auto"
-+    android:layout_width="match_parent"
-+    android:layout_height="match_parent"
-+    tools:context="com.example.walktoshop.User.UserView"
-+    android:orientation="horizontal">
-+
-+    <fragment xmlns:android="http://schemas.android.com/apk/res/android"
-+        xmlns:map="http://schemas.android.com/apk/res-auto"
-+        xmlns:tools="http://schemas.android.com/tools"
-+        android:id="@+id/map"
-+        android:name="com.google.android.gms.maps.SupportMapFragment"
-+        android:layout_width="match_parent"
-+        android:layout_height="match_parent"
-+        tools:context="com.example.walktoshop.User.UserMapView" />
-+
-+    <com.google.android.material.bottomnavigation.BottomNavigationView
-+        android:id="@+id/bottom_navigation"
-+        style="@style/Widget.MaterialComponents.BottomNavigationView.Colored"
-+        android:layout_width="match_parent"
-+        android:layout_height="wrap_content"
-+        android:layout_alignParentStart="true"
-+        android:layout_alignParentBottom="true"
-+        android:layout_gravity="bottom"
-+        app:menu="@menu/menu_bottom_navigation_view" />
-+
-+</androidx.coordinatorlayout.widget.CoordinatorLayout>
-\ No newline at end of file
-Index: app/src/main/java/com/example/walktoshop/User/UserMapView.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/walktoshop/User/UserMapView.java	(date 1610889812453)
-+++ app/src/main/java/com/example/walktoshop/User/UserMapView.java	(date 1610889812453)
-@@ -0,0 +1,90 @@
-+package com.example.walktoshop.User;
-+
-+import android.content.Intent;
-+import android.os.Bundle;
-+import android.view.Menu;
-+import android.view.MenuItem;
-+
-+import androidx.annotation.NonNull;
-+import androidx.annotation.Nullable;
-+import androidx.appcompat.app.AppCompatActivity;
-+import com.example.walktoshop.R;
-+import com.google.android.gms.maps.CameraUpdateFactory;
-+import com.google.android.gms.maps.GoogleMap;
-+import com.google.android.gms.maps.OnMapReadyCallback;
-+import com.google.android.gms.maps.SupportMapFragment;
-+import com.google.android.gms.maps.model.LatLng;
-+import com.google.android.gms.maps.model.Marker;
-+import com.google.android.gms.maps.model.MarkerOptions;
-+import com.google.android.material.bottomnavigation.BottomNavigationView;
-+
-+public class UserMapView extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnMarkerClickListener {
-+    GoogleMap mMap;
-+
-+    @Override
-+    protected void onCreate(@Nullable Bundle savedInstanceState) {
-+        super.onCreate(savedInstanceState);
-+        setContentView(R.layout.activity_user_map_view);
-+
-+        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()
-+                .findFragmentById(R.id.map);
-+        mapFragment.getMapAsync(this);
-+        UserView us = new UserView();
-+        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);
-+        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {
-+            @Override
-+            public boolean onNavigationItemSelected(@NonNull MenuItem item) {
-+                switch (item.getItemId()) {
-+                    case R.id.action_home:
-+                        goHome();
-+                        break;
-+                    case R.id.action_statistics:
-+                        break;
-+                    case R.id.action_notification:
-+                        break;
-+                }
-+                return true;
-+            }
-+        });
-+    }
-+    public void goHome() {
-+        final Intent intent = new Intent(this, UserView.class);
-+        startActivity(intent);
-+    }
-+
-+    public boolean onCreateOptionsMenu(Menu menu){
-+        getMenuInflater().inflate(R.menu.menu_action_bar, menu);
-+        return true;
-+    }
-+
-+    public boolean onOptionsItemSelected(MenuItem item){
-+        return super.onOptionsItemSelected(item);
-+    }
-+    public void OnItemSelected(MenuItem item) {
-+        switch (item.getItemId()){
-+            case R.id.action_search:
-+                break;
-+            case R.id.action_exit:
-+                break;
-+            case R.id.action_settings:
-+                break;
-+        }
-+    }
-+
-+    @Override
-+    public void onMapReady(GoogleMap googleMap) {
-+        mMap = googleMap;
-+
-+        // Add a marker in Sydney and move the camera
-+        LatLng sydney = new LatLng(-34, 151);
-+        mMap.addMarker(new MarkerOptions().position(sydney).title("Marker in Sydney"));
-+        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));
-+        mMap.setOnMarkerClickListener(this);
-+
-+    }
-+
-+    @Override
-+    public boolean onMarkerClick(Marker marker) {
-+        return false;
-+    }
-+}
Index: app/src/main/res/layout-land/activity_signup.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/signUpLayout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/white_ice\">\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/banner\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"WalkToShop\"\r\n        android:textAlignment=\"center\"\r\n        android:textSize=\"60sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.048\"\r\n        tools:ignore=\"MissingConstraints\"\r\n        tools:layout_editor_absoluteX=\"0dp\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/email\"\r\n        android:layout_width=\"317dp\"\r\n        android:layout_height=\"54dp\"\r\n        android:background=\"@drawable/ic_text_box\"\r\n        android:drawableStart=\"@drawable/ic_email\"\r\n        android:ems=\"10\"\r\n        android:drawablePadding=\"4dp\"\r\n        android:elevation=\"6dp\"\r\n        android:hint=\"@string/email\"\r\n        android:inputType=\"textEmailAddress\"\r\n        android:paddingStart=\"6dp\"\r\n        android:paddingLeft=\"50dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/username\"\r\n        app:layout_constraintVertical_bias=\"0.058\" />\r\n\r\n\r\n    <Button\r\n        android:id=\"@+id/nextButton\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@color/verde_maggio\"\r\n        android:text=\"Avanti\"\r\n        android:textColor=\"#f8f8ff\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.838\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.955\" />\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/already_registered\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Sei gi registrato? Clicca qui!\"\r\n        android:textColor=\"#7081DF\"\r\n        android:textSize=\"16sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.958\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/password\"\r\n        android:layout_width=\"317dp\"\r\n        android:layout_height=\"54dp\"\r\n        android:background=\"@drawable/ic_text_box\"\r\n        android:drawableStart=\"@drawable/ic_psw\"\r\n        android:drawablePadding=\"4dp\"\r\n        android:elevation=\"6dp\"\r\n        android:paddingStart=\"6dp\"\r\n        android:ems=\"10\"\r\n        android:hint=\"Password\"\r\n        android:inputType=\"textPassword\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/email\"\r\n        app:layout_constraintVertical_bias=\"0.085\" />\r\n\r\n\r\n    <Switch\r\n        android:id=\"@+id/switch1\"\r\n        android:layout_width=\"139dp\"\r\n        android:layout_height=\"53dp\"\r\n        android:text=\"Utente\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.287\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/username\"\r\n        android:layout_width=\"317dp\"\r\n        android:layout_height=\"54dp\"\r\n        android:background=\"@drawable/ic_text_box\"\r\n        android:drawableStart=\"@drawable/ic_user\"\r\n        android:drawablePadding=\"4dp\"\r\n        android:elevation=\"6dp\"\r\n        android:ems=\"10\"\r\n        android:hint=\"UserName\"\r\n        android:inputType=\"textEmailAddress\"\r\n        android:paddingStart=\"6dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.478\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout-land/activity_signup.xml	(revision 0a69acb1f5d85fbbd15046c47a1d9ad7324636df)
+++ app/src/main/res/layout-land/activity_signup.xml	(date 1611419530852)
@@ -1,125 +1,154 @@
 <?xml version="1.0" encoding="utf-8"?>
-<androidx.constraintlayout.widget.ConstraintLayout
+<androidx.coordinatorlayout.widget.CoordinatorLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
-    xmlns:tools="http://schemas.android.com/tools"
-    android:id="@+id/signUpLayout"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
+    android:padding="16dp"
+    android:id="@+id/itemPage"
+    android:orientation="vertical"
     android:background="@color/white_ice">
 
+    <ScrollView
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content">
 
-    <TextView
-        android:id="@+id/banner"
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:text="WalkToShop"
-        android:textAlignment="center"
-        android:textSize="60sp"
-        android:textStyle="bold"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.048"
-        tools:ignore="MissingConstraints"
-        tools:layout_editor_absoluteX="0dp" />
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="vertical">
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:orientation="vertical">
+            <TextView
+                android:id="@+id/banner"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:text="WalkToShop"
+                android:textAlignment="center"
+                android:textSize="60sp"
+                android:textStyle="bold"
+                android:layout_marginVertical="50dp"
+                android:layout_gravity="center"/>
+
+
+            <Switch
+                android:id="@+id/switch1"
+                android:layout_width="139dp"
+                android:layout_height="53dp"
+                android:text="Utente"
+                android:layout_gravity="center"/>
+        </LinearLayout>
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:orientation="vertical">
+
+            <EditText
+                android:id="@+id/username"
+                android:layout_width="317dp"
+                android:layout_height="54dp"
+                android:layout_gravity="center"
+                android:background="@drawable/ic_text_box"
+                android:drawableStart="@drawable/ic_user"
+                android:drawablePadding="4dp"
+                android:elevation="6dp"
+                android:hint="UserName"
+                android:inputType="textEmailAddress"
+                android:paddingStart="6dp" />
+
 
-    <EditText
-        android:id="@+id/email"
-        android:layout_width="317dp"
-        android:layout_height="54dp"
-        android:background="@drawable/ic_text_box"
-        android:drawableStart="@drawable/ic_email"
-        android:ems="10"
-        android:drawablePadding="4dp"
-        android:elevation="6dp"
-        android:hint="@string/email"
-        android:inputType="textEmailAddress"
-        android:paddingStart="6dp"
-        android:paddingLeft="50dp"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toBottomOf="@+id/username"
-        app:layout_constraintVertical_bias="0.058" />
-
-
-    <Button
-        android:id="@+id/nextButton"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:background="@color/verde_maggio"
-        android:text="Avanti"
-        android:textColor="#f8f8ff"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintHorizontal_bias="0.838"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.955" />
-
-
-    <TextView
-        android:id="@+id/already_registered"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="Sei gi registrato? Clicca qui!"
-        android:textColor="#7081DF"
-        android:textSize="16sp"
-        android:textStyle="bold"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.958"
-        tools:ignore="MissingConstraints" />
+            <EditText
+                android:id="@+id/email"
+                android:layout_width="317dp"
+                android:layout_height="54dp"
+                android:layout_gravity="center"
+                android:layout_marginVertical="10dp"
+                android:background="@drawable/ic_text_box"
+                android:drawableStart="@drawable/ic_email"
+                android:drawablePadding="4dp"
+                android:elevation="6dp"
+                android:ems="10"
+                android:hint="@string/email"
+                android:inputType="textEmailAddress"
+                android:paddingStart="6dp" />
 
-    <EditText
-        android:id="@+id/password"
-        android:layout_width="317dp"
-        android:layout_height="54dp"
-        android:background="@drawable/ic_text_box"
-        android:drawableStart="@drawable/ic_psw"
-        android:drawablePadding="4dp"
-        android:elevation="6dp"
-        android:paddingStart="6dp"
-        android:ems="10"
-        android:hint="Password"
-        android:inputType="textPassword"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toBottomOf="@+id/email"
-        app:layout_constraintVertical_bias="0.085" />
-
-
-    <Switch
-        android:id="@+id/switch1"
-        android:layout_width="139dp"
-        android:layout_height="53dp"
-        android:text="Utente"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.287" />
+            <EditText
+                android:id="@+id/password"
+                android:layout_width="317dp"
+                android:layout_height="54dp"
+                android:layout_gravity="center"
+                android:background="@drawable/ic_text_box"
+                android:drawableStart="@drawable/ic_psw"
+                android:drawablePadding="4dp"
+                android:elevation="6dp"
+                android:hint="Password"
+                android:inputType="textPassword"
+                android:paddingStart="6dp" />
 
-    <EditText
-        android:id="@+id/username"
-        android:layout_width="317dp"
-        android:layout_height="54dp"
-        android:background="@drawable/ic_text_box"
-        android:drawableStart="@drawable/ic_user"
-        android:drawablePadding="4dp"
-        android:elevation="6dp"
-        android:ems="10"
-        android:hint="UserName"
-        android:inputType="textEmailAddress"
-        android:paddingStart="6dp"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.478" />
+            <EditText
+                android:id="@+id/height"
+                android:layout_width="317dp"
+                android:layout_height="54dp"
+                android:layout_gravity="center"
+                android:layout_marginVertical="10dp"
+                android:background="@drawable/ic_text_box"
+                android:drawableStart="@drawable/ic_height"
+                android:drawablePadding="4dp"
+                android:elevation="6dp"
+                android:inputType="number"
+                android:hint="@string/height"
+                android:paddingStart="6dp" />
+
+            <EditText
+                android:id="@+id/weight"
+
+                android:layout_width="317dp"
+                android:layout_height="54dp"
+                android:layout_gravity="center"
+                android:background="@drawable/ic_text_box"
+                android:drawableStart="@drawable/ic_balance"
+                android:drawablePadding="4dp"
+                android:elevation="6dp"
+                android:inputType="number"
+                android:hint="@string/weight"
+                android:paddingStart="6dp" />
+
+        </LinearLayout>
+
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:orientation="vertical">
+
+            <Button
+                android:id="@+id/nextButton"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="right"
+                android:layout_marginVertical="10dp"
+                android:background="@drawable/rounded_button"
+                android:text="Avanti"
+                android:textColor="@color/white_ice" />
 
+            <TextView
+                android:id="@+id/already_registered"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="center"
+                android:text="Sei gi registrato? Clicca qui!"
+                android:textColor="#7081DF"
+                android:textSize="16sp"
+                android:textStyle="bold" />
 
-</androidx.constraintlayout.widget.ConstraintLayout>
+
+        </LinearLayout>
+
+    </LinearLayout>
+
+    </ScrollView>
+
+</androidx.coordinatorlayout.widget.CoordinatorLayout>
\ No newline at end of file
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_22_01_2021_12_20__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_22_01_2021_12_20__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_21_01_2021_16_58__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_21_01_2021_16_58__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_16_34__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_20_01_2021_16_34__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_22_01_2021_08_14__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_22_01_2021_08_14__Default_Changelist_.xml
