Index: app/src/main/res/layout/activity_user_view.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.coordinatorlayout.widget.CoordinatorLayout\r\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\r\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\nandroid:id=\"@+id/cardCoordinator\"\r\nandroid:layout_width=\"match_parent\"\r\nandroid:layout_height=\"match_parent\">\r\n\r\n<ProgressBar\r\n    android:id=\"@+id/sellerViewProgressBar\"\r\n    style=\"?android:attr/progressBarStyle\"\r\n    android:layout_width=\"91dp\"\r\n    android:layout_height=\"81dp\"\r\n    android:layout_marginLeft=\"160dp\"\r\n    android:layout_marginTop=\"250dp\"\r\n    android:visibility=\"gone\"/>\r\n    <TextView\r\n        android:id=\"@+id/alert\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"100dp\"\r\n        android:layout_marginLeft=\"55dp\"\r\n        android:layout_gravity=\"center\"\r\n        android:text=\"Nessuno sconto attivato\"\r\n        android:textSize=\"25dp\"\r\n        android:visibility=\"gone\"/>\r\n\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <ImageView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"190dp\"\r\n            android:src=\"@drawable/_707919\"\r\n            android:scaleType=\"fitXY\" />\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"16dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/scontiAttivita\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Sconti Attivi\"\r\n                android:textAppearance=\"?attr/textAppearanceHeadline4\"/>\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <ListView\r\n                android:id=\"@+id/homeListView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n            </ListView>\r\n        </LinearLayout>\r\n    </LinearLayout>\r\n\r\n    <com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=\"@+id/bottom_navigation\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"bottom\"\r\n        style=\"@style/Widget.MaterialComponents.BottomNavigationView.Colored\"\r\n        app:menu=\"@menu/menu_bottom_navigation_view\"/>\r\n\r\n</androidx.coordinatorlayout.widget.CoordinatorLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_user_view.xml	(revision 108a1570d015fa20a99e8c959fe0bd53ec18ab9c)
+++ app/src/main/res/layout/activity_user_view.xml	(date 1611849130213)
@@ -32,10 +32,9 @@
         android:orientation="vertical">
 
         <ImageView
+            android:id="@+id/userImage"
             android:layout_width="match_parent"
-            android:layout_height="190dp"
-            android:src="@drawable/_707919"
-            android:scaleType="fitXY" />
+            android:layout_height="190dp" />
 
         <LinearLayout
             android:layout_width="match_parent"
Index: app/src/main/java/com/example/walktoshop/User/UserView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.walktoshop.User;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport android.Manifest;\r\nimport android.app.ActivityManager;\r\nimport android.app.AlertDialog;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport com.example.walktoshop.Login_SignUp.LogIn;\r\nimport com.example.walktoshop.R;\r\nimport com.example.walktoshop.Seller.Discount;\r\nimport com.example.walktoshop.Seller.SellerViewAdapter;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\n\r\n\r\npublic class UserView extends AppCompatActivity {\r\n    FirebaseFirestore db =FirebaseFirestore.getInstance();\r\n    private TextView alert;\r\n    private ListView homeListview;\r\n    private static final String CHANNEL_ID=\"StepCounter_notification_channel\";\r\n    private String userUID=null;\r\n    private ArrayList<Discount> myDiscounts= new ArrayList<>();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_view);\r\n\r\n        alert=findViewById(R.id.alert);\r\n        alert.setVisibility(View.GONE);\r\n        homeListview= findViewById(R.id.homeListView);\r\n        //setting del channel per quando partir√† il service\r\n        createNotificationChannel();\r\n        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()) {\r\n                    case R.id.action_map:\r\n                        goToUserViewMap();\r\n                        break;\r\n                    case R.id.action_statistics:\r\n                        goUserStatistics();\r\n                        break;\r\n                    case R.id.action_notification:\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n        Intent intent =getIntent();\r\n        if(intent.hasExtra(\"UID\")){\r\n            this.userUID = intent.getStringExtra(\"UID\");\r\n        }\r\n    }\r\n\r\n    private void goUserStatistics() {\r\n        final Intent intent = new Intent(UserView.this, UserStatistics.class);\r\n        intent.putExtra(\"UID\", this.userUID);\r\n        startActivity(intent);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        getUserDiscounts();\r\n    }\r\n\r\n    private void getUserDiscounts(){\r\n        db.collection(\"utente\").document(userUID).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                if(task.isSuccessful()){\r\n                    DocumentSnapshot document= task.getResult();\r\n                    ArrayList<String> discountUID = (ArrayList) document.get(\"discountUID\");\r\n                    if(discountUID!=null){\r\n                        getMyDiscounts(discountUID);\r\n                    }else  if(discountUID==null){\r\n                        alert.setVisibility(View.VISIBLE);\r\n                        alert.setText(\"Nessuno sconto attivato\");\r\n                    }else if(discountUID.isEmpty()){\r\n                        alert.setVisibility(View.VISIBLE);\r\n                        alert.setText(\"Nessuno sconto attivato\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void getMyDiscounts(ArrayList discountUID){\r\n        if(!discountUID.isEmpty()){\r\n            Iterator it =discountUID.iterator();\r\n            while(it.hasNext()){\r\n                String uid= (String) it.next();\r\n                myDiscounts.clear();\r\n                db.collection(\"sconti\").document(uid).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                        if(task.isSuccessful()){\r\n                            DocumentSnapshot document= task.getResult();\r\n                            Discount discount=new Discount();\r\n                            discount.setUID(document.getString(\"uid\"));\r\n                            discount.setExpiringDate(document.getString(\"expiringDate\"));\r\n                            discount.setBusinessUID(document.getString(\"businessUID\"));\r\n                            discount.setDiscountsQuantity(document.getString(\"discountsQuantity\"));\r\n                            discount.setStartDiscountDate(document.getString(\"startDiscountDate\"));\r\n                            discount.setState(document.getString(\"state\"));\r\n                            discount.setDescription(document.getString(\"description\"));\r\n                            discount.setStepNumber(document.getString(\"stepNumber\"));\r\n                            discount.setBusinessUID(document.getString(\"businessUID\"));\r\n                            myDiscounts.add(discount);\r\n                        }\r\n                    }\r\n                }).addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                        final SellerViewAdapter adapter=new SellerViewAdapter(UserView.this,myDiscounts, userUID,null,\"userHome\");\r\n                        homeListview.setAdapter(adapter);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch(requestCode){\r\n            case 10:\r\n                if(grantResults.length>0 && grantResults[0]==PackageManager.PERMISSION_GRANTED){\r\n\r\n                }else if(grantResults[0]==PackageManager.PERMISSION_DENIED){\r\n                    if(ActivityCompat.shouldShowRequestPermissionRationale(UserView.this,Manifest.permission.ACCESS_FINE_LOCATION)){\r\n                        //dialog in cui spiego\r\n                        new AlertDialog.Builder(UserView.this)\r\n                                .setTitle(\"Permission\")\r\n                                .setMessage(\"Denying permission you can't use geo-localization\")\r\n                                .setNeutralButton(\"ok\",null)\r\n                                .show();\r\n                    }\r\n                }\r\n                return;\r\n        }\r\n    }\r\n\r\n    private void goToUserViewMap() {\r\n        final Intent intent = new Intent(UserView.this, UserMapView.class);\r\n        intent.putExtra(\"UID\", this.userUID);\r\n        startActivity(intent);\r\n\r\n    }\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    private  void startStepCounter(){\r\n        if(userUID!=null  ){\r\n            Intent intent =new Intent(this,StepCounter.class);\r\n            if(isMyServiceRunning(StepCounter.class) == false){\r\n                Toast.makeText(this,\"Contapassi attivato\",Toast.LENGTH_SHORT).show();\r\n                intent.putExtra(\"UID\",userUID);\r\n                startService(intent);\r\n            }else{\r\n                Toast.makeText(this,\"Contapassi disattivato\",Toast.LENGTH_SHORT).show();\r\n                stopService(intent);\r\n            }\r\n        }\r\n    }\r\n    public void OnItemSelected(MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.stepcounter:\r\n                startStepCounter();\r\n                break;\r\n            case R.id.action_exit:\r\n                logOut();\r\n                break;\r\n            case R.id.action_settings:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void logOut(){\r\n        FirebaseAuth.getInstance().signOut();\r\n        final Intent intent = new Intent(this, LogIn.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n    private void createNotificationChannel(){\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.O) {\r\n            NotificationChannel serviceChannel = new NotificationChannel(\r\n                    CHANNEL_ID,\r\n                    \"StepCounter_notification_channel\",\r\n                    NotificationManager.IMPORTANCE_DEFAULT);\r\n            NotificationManager manager =getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(serviceChannel);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        killServiceIfRunning();\r\n    }\r\n    private void killServiceIfRunning(){\r\n        if(isMyServiceRunning(StepCounter.class) == true){\r\n            Intent intent =new Intent(this,StepCounter.class);\r\n            Toast.makeText(this,\"Contapassi disattivato\",Toast.LENGTH_SHORT).show();\r\n            stopService(intent);\r\n        }\r\n    }\r\n    private boolean isMyServiceRunning(Class<?> serviceClass) {\r\n        ActivityManager manager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        for (ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\r\n            if (serviceClass.getName().equals(service.service.getClassName())) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/walktoshop/User/UserView.java	(revision 108a1570d015fa20a99e8c959fe0bd53ec18ab9c)
+++ app/src/main/java/com/example/walktoshop/User/UserView.java	(date 1611849130234)
@@ -15,6 +15,7 @@
 import android.view.Menu;
 import android.view.MenuItem;
 import android.view.View;
+import android.widget.ImageView;
 import android.widget.ListView;
 import android.widget.TextView;
 import android.widget.Toast;
@@ -28,6 +29,8 @@
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.firestore.DocumentSnapshot;
 import com.google.firebase.firestore.FirebaseFirestore;
+import com.squareup.picasso.Picasso;
+
 import java.util.ArrayList;
 import java.util.Iterator;
 
@@ -38,6 +41,7 @@
     private ListView homeListview;
     private static final String CHANNEL_ID="StepCounter_notification_channel";
     private String userUID=null;
+    private ImageView userImage;
     private ArrayList<Discount> myDiscounts= new ArrayList<>();
 
     @Override
@@ -48,6 +52,8 @@
         alert=findViewById(R.id.alert);
         alert.setVisibility(View.GONE);
         homeListview= findViewById(R.id.homeListView);
+        userImage = (ImageView) findViewById(R.id.sellerImage);
+        Picasso.get().load(R.drawable._0943903).fit().centerInside().into(userImage);
         //setting del channel per quando partir√† il service
         createNotificationChannel();
         BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);
Index: app/src/main/java/com/example/walktoshop/Seller/ManageDiscount.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.walktoshop.Seller;\r\n\r\n\r\nimport android.app.DatePickerDialog;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.DatePicker;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class ManageDiscount extends AppCompatActivity {\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private String businessUID=null;\r\n    private EditText description;\r\n    private EditText quantity;\r\n    private TextView expiringDate;\r\n    private Button add;\r\n    private ImageButton addDate;\r\n    private Calendar cal;\r\n    private String dateEditText;\r\n    private String[] separetedDate;\r\n    private boolean fromEditText;\r\n    int date;\r\n    long expiringDateInMillis;\r\n    String stringedDescription;\r\n    String todayInMills;\r\n    String stringedQuantity;\r\n\r\n    //DatePickerDialog.OnDateSetListener listener;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_managediscount);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setHomeButtonEnabled(true);\r\n        Intent intent=getIntent();\r\n        if(intent.hasExtra(\"businessUID\")){\r\n            this.businessUID=intent.getStringExtra(\"businessUID\");\r\n        }\r\n        //inizializzazione variabli\r\n        addDate=(ImageButton)findViewById(R.id.addDate);\r\n        expiringDate=(TextView) findViewById(R.id.expiringDate);\r\n        description=(EditText)findViewById(R.id.description);\r\n        quantity=(EditText)findViewById(R.id.disocuntsQuantity);\r\n        add=(Button)findViewById(R.id.add);\r\n        //setting date picker\r\n        cal=Calendar.getInstance();\r\n        this.todayInMills=getTodayInMills();\r\n        //\r\n        addDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //metodo set datepicker\r\n                date=cal.get(Calendar.DATE);\r\n                int month=cal.get(Calendar.MONTH);\r\n                Log.d(\"month\", String.valueOf(month));\r\n                int year=cal.get(Calendar.YEAR);\r\n                expiringDate.setEnabled(false);\r\n                if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.N) {\r\n                    fromEditText = false;\r\n                    DatePickerDialog datePickerDialog=new DatePickerDialog(ManageDiscount.this, android.R.style.Theme_DeviceDefault_Dialog, new DatePickerDialog.OnDateSetListener() {\r\n                        @Override\r\n                        public void onDateSet(DatePicker datePicker, int year, int month, int date) {\r\n                            month = month + 1;\r\n                            String dateFormat = null;\r\n                            if(month < 10 ){\r\n                                if (date < 10){\r\n                                    dateFormat=\"0\"+date+\"/\"+\"0\"+month+\"/\"+year;\r\n                                } else {\r\n                                    dateFormat=date+\"/\"+\"0\"+month+\"/\"+year;\r\n                                }\r\n\r\n                            } else {\r\n                                if (date < 10){\r\n                                    dateFormat = \"0\"+date+\"/\"+month+\"/\"+year;\r\n                                } else{\r\n                                    dateFormat = date+\"/\"+month+\"/\"+year;\r\n                                }\r\n                            }\r\n\r\n                            Date date1 = null;\r\n                            try {\r\n                                date1 = new SimpleDateFormat(\"dd/MM/yyyy\").parse(dateFormat);\r\n                            } catch (ParseException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            Log.d(\"data\",dateFormat);\r\n                            expiringDate.setText(dateFormat);\r\n\r\n                            ManageDiscount.this.expiringDateInMillis =  date1.getTime();\r\n                        }\r\n                    },year,month,date);\r\n                    datePickerDialog.show();\r\n                }else{\r\n                    Toast toast = Toast.makeText(ManageDiscount.this,\"Inserire la data manualmente, poich√® la versione del tuo dispositivo non supporta l'inserimento automatico tramite calendario\",Toast.LENGTH_LONG);\r\n                    toast.setGravity(Gravity.CENTER, 0, 0);\r\n                    toast.show();\r\n                    expiringDate.setEnabled(true);\r\n                    expiringDate.setHint(\"Data di scadenza(gg/mm/aaaa)\");\r\n                    fromEditText = true;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n        add.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(checkInfo()){\r\n                    Discount discount= new Discount();\r\n                    String customDiscountUID=calculateMyCustomDiscountUID(businessUID,expiringDateInMillis);\r\n                    discount.setUID(customDiscountUID);\r\n                    discount.setBusinessUID(businessUID);\r\n                    discount.setExpiringDate(String.valueOf(expiringDateInMillis));\r\n                    discount.setState(\"\");\r\n                    discount.setDescription(stringedDescription);\r\n                    discount.setDiscountsQuantity(stringedQuantity);\r\n                    discount.setStartDiscountDate(todayInMills);\r\n                    addDiscount(customDiscountUID,discount);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        if(item.getItemId() == android.R.id.home){\r\n            finish();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void addDiscount(String customDiscountUID, Discount discount){\r\n        db.collection(\"sconti\").document(customDiscountUID).set(discount).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<Void> task) {\r\n                if(task.isSuccessful()){\r\n                    Log.d(\"customDiscountUID\",customDiscountUID);\r\n                    getBusiness(customDiscountUID);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean checkDateFormat(){\r\n        String stringDate = dateEditText;\r\n         Pattern DATE_PATTERN = Pattern.compile(\"([0-9]{2})/([0-9]{2})/([0-9]{4})\");\r\n        separetedDate = stringDate.split(\"/\");\r\n        Date dateEditText = null;\r\n\r\n        try {\r\n             dateEditText = new SimpleDateFormat(\"dd/MM/yyyy\").parse(stringDate);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if(stringDate.isEmpty()){\r\n            this.expiringDate.setError(getResources().getString(R.string.EmptyDate));\r\n            this.expiringDate.requestFocus();\r\n            return false;\r\n        }else if(!DATE_PATTERN.matcher(stringDate).matches()){\r\n             Toast toast = Toast.makeText(ManageDiscount.this,\"Rispettare formato: gg/mm/aaaa\",Toast.LENGTH_LONG);\r\n             toast.setGravity(Gravity.CENTER, 0, 0);\r\n             toast.show();\r\n             this.expiringDate.setError(getResources().getString(R.string.InvalidDateFormat));\r\n             this.expiringDate.requestFocus();\r\n             return false;\r\n         }else if(Integer.parseInt(separetedDate[0]) <= 00 || Integer.parseInt(separetedDate[0]) > 31){\r\n            this.expiringDate.setError(getResources().getString(R.string.NotADay));\r\n            this.expiringDate.requestFocus();\r\n            return false;\r\n        }else if(Integer.parseInt(separetedDate[1]) <= 00 || Integer.parseInt(separetedDate[1]) > 12){\r\n            this.expiringDate.setError(getResources().getString(R.string.NotAMonth));\r\n            this.expiringDate.requestFocus();\r\n            return false;\r\n        }else if(Integer.parseInt(separetedDate[2]) < Calendar.getInstance().get(Calendar.YEAR)){\r\n            this.expiringDate.setError(getResources().getString(R.string.NotAYearFree));\r\n            this.expiringDate.requestFocus();\r\n            return false;\r\n        }else if(dateEditText.getTime() <= Calendar.getInstance().getTimeInMillis()){\r\n            this.expiringDate.setError(getResources().getString(R.string.InvalidDate));\r\n            this.expiringDate.requestFocus();\r\n            return false;\r\n        }\r\n\r\n         ManageDiscount.this.expiringDateInMillis =  dateEditText.getTime();\r\n         return true;\r\n    }\r\n\r\n    private void getBusiness(String customDiscountUID){\r\n        db.collection(\"attivita\").document(businessUID).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                if(task.isSuccessful()){\r\n                    DocumentSnapshot document=task.getResult();\r\n                    ArrayList<String> discountUID= (ArrayList<String>) document.get(\"discountUID\");\r\n                    if(discountUID == null){\r\n                        discountUID =new ArrayList<String>();\r\n                    }\r\n                    discountUID.add(customDiscountUID);\r\n                    updateBusiness(discountUID);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void updateBusiness(ArrayList<String> discountUID){\r\n        db.collection(\"attivita\").document(businessUID).update(\"discountUID\",discountUID).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<Void> task) {\r\n                if(task.isSuccessful()){\r\n                    Log.d(\"caricamento\",\"caricamento effettuato correttamente\");\r\n                }else{\r\n                    Log.d(\"caricamento\",\"caricamento non effettuato correttamente\");\r\n                }\r\n            }\r\n        }).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<Void> task) {\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean checkInfo(){\r\n        stringedDescription=this.description.getText().toString().trim();\r\n        stringedQuantity=this.quantity.getText().toString().trim();\r\n        if(fromEditText)\r\n        dateEditText = expiringDate.getText().toString().trim();\r\n       // Log.d(\"MILLIS\", String.valueOf(expiringDateInMillis));\r\n        //Log.d(\"MILLIS\", String.valueOf(cal.getTimeInMillis()));\r\n\r\n        if(stringedDescription.isEmpty() || stringedDescription.length()>50){\r\n            this.description.setError( getResources().getString(R.string.InvalidDescription));\r\n            this.description.requestFocus();\r\n            return false;\r\n        }else if(stringedQuantity.isEmpty()){\r\n            this.quantity.setError( getResources().getString(R.string.numStepsEmpty));\r\n            this.quantity.requestFocus();\r\n            return false;\r\n        }else if(Long.parseLong(stringedQuantity) < 2000||  Long.parseLong(stringedQuantity) > 60000){\r\n            Toast toast = Toast.makeText(this,\"inserire un numero passi che sia compreso tra 2000 e 100000\",Toast.LENGTH_LONG);\r\n            toast.setGravity(Gravity.CENTER, 0, 0);\r\n            toast.show();\r\n            this.quantity.setError( getResources().getString(R.string.numStepsNotValid));\r\n            this.quantity.requestFocus();\r\n            return false;\r\n        } else if ((expiringDateInMillis <= cal.getTimeInMillis() || expiringDateInMillis == 0) && !fromEditText){\r\n            //mettere un avviso che indica di inserire correttamente la data\r\n            this.expiringDate.setError(\"Data non valida\");\r\n            this.expiringDate.requestFocus();\r\n            return false;\r\n        }else if(fromEditText && !checkDateFormat()){\r\n\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n    private String calculateMyCustomDiscountUID(String businessUID,long timeInMillis){\r\n        String stringedTimeInMills= String.valueOf(System.currentTimeMillis());\r\n        if(businessUID!=null && stringedTimeInMills!=null){\r\n            String customUID=null;\r\n            customUID= businessUID+stringedTimeInMills;\r\n            return customUID;\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n    private String getTodayInMills(){\r\n        Calendar cal = Calendar.getInstance();\r\n        int year  = cal.get(Calendar.YEAR);\r\n        int month = cal.get(Calendar.MONTH);\r\n        int date  = cal.get(Calendar.DATE);\r\n        cal.clear();\r\n        cal.set(year, month, date);\r\n        long todayMillis2 = cal.getTimeInMillis();\r\n        return String.valueOf(todayMillis2);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/walktoshop/Seller/ManageDiscount.java	(revision 108a1570d015fa20a99e8c959fe0bd53ec18ab9c)
+++ app/src/main/java/com/example/walktoshop/Seller/ManageDiscount.java	(date 1611848962279)
@@ -12,6 +12,7 @@
 import android.widget.DatePicker;
 import android.widget.EditText;
 import android.widget.ImageButton;
+import android.widget.ImageView;
 import android.widget.TextView;
 import android.widget.Toast;
 
@@ -24,6 +25,7 @@
 import com.google.android.gms.tasks.Task;
 import com.google.firebase.firestore.DocumentSnapshot;
 import com.google.firebase.firestore.FirebaseFirestore;
+import com.squareup.picasso.Picasso;
 
 import java.text.ParseException;
 import java.text.SimpleDateFormat;
@@ -44,6 +46,7 @@
     private String dateEditText;
     private String[] separetedDate;
     private boolean fromEditText;
+    private ImageView discountImage;
     int date;
     long expiringDateInMillis;
     String stringedDescription;
@@ -68,6 +71,8 @@
         description=(EditText)findViewById(R.id.description);
         quantity=(EditText)findViewById(R.id.disocuntsQuantity);
         add=(Button)findViewById(R.id.add);
+        discountImage = (ImageView) findViewById(R.id.sellerImage);
+        Picasso.get().load(R.drawable._0943903).fit().centerInside().into(discountImage);
         //setting date picker
         cal=Calendar.getInstance();
         this.todayInMills=getTodayInMills();
Index: app/src/main/java/com/example/walktoshop/Seller/SellerView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.walktoshop.Seller;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ListView;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.walktoshop.Login_SignUp.LogIn;\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class SellerView extends AppCompatActivity {\r\n    private ListView listView;\r\n    private TextView alert;\r\n    private String UID=null;\r\n    private ProgressBar progressBar;\r\n    private FloatingActionButton addActivityButton;\r\n    private ImageButton editDiscount;\r\n    private ImageButton deleteDiscount;\r\n    FirebaseFirestore db =FirebaseFirestore.getInstance();\r\n    private ArrayList<Discount> discountArray=new ArrayList<>();\r\n    private ArrayList<String> businessUID =new ArrayList<>();\r\n    private ArrayList<String> discountUID = new ArrayList<>();\r\n    private FloatingActionButton mFab;\r\n    private TextView scontiAttivita;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_seller_view);\r\n        alert = (TextView) findViewById(R.id.alertSeller);\r\n        //View coordinatorLayout = findViewById(android.R.id.content);\r\n        addActivityButton=(FloatingActionButton)findViewById(R.id.addBusinessFab);\r\n        scontiAttivita = (TextView) findViewById(R.id.scontiAttivita);\r\n        addActivityButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                goSellerMapView();\r\n                addActivityButton.setVisibility(View.INVISIBLE);\r\n            }\r\n        });\r\n        mFab = (FloatingActionButton) findViewById(R.id.fab);\r\n        mFab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startManageDiscount();\r\n            }\r\n        });\r\n        progressBar=findViewById(R.id.sellerViewProgressBar);\r\n        listView=findViewById(R.id.listView);\r\n        Intent intent = getIntent();\r\n        if(intent.hasExtra(\"UID\")){\r\n            UID=intent.getStringExtra(\"UID\");\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        getSellerBusinessUID();\r\n        if(businessUID == null){\r\n            businessUID = new ArrayList<String>();\r\n        }\r\n        if(discountUID==null){\r\n            addActivityButton.setVisibility(View.INVISIBLE);\r\n        }else if(discountUID.isEmpty()){\r\n            Log.d(\"bi\",discountUID.toString());\r\n            addActivityButton.setVisibility(View.INVISIBLE);\r\n            if(businessUID.size()<= 0){\r\n                Log.d(\"Busi\", String.valueOf(businessUID.size()));\r\n                addActivityButton.setVisibility(View.VISIBLE);\r\n                scontiAttivita.setVisibility(View.GONE);\r\n                alert.setText(\"Nessuna attivit√† registrata\");\r\n                mFab.setVisibility(View.GONE);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    public void OnItemSelected(MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.action_search:\r\n                break;\r\n            case R.id.action_exit:\r\n                logOut();\r\n                break;\r\n            case R.id.action_settings:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void getSellerBusinessUID(){\r\n        if(UID!=null){\r\n            db.collection(\"venditore\").document(this.UID).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                    if(task.isSuccessful()){\r\n                        DocumentSnapshot document= task.getResult();\r\n                        businessUID= (ArrayList) document.get(\"businessUID\");\r\n                        //se ha delle attivit√† le recupera\r\n                        //Log.d(\"businessUID\", String.valueOf(businessUID.size()));\r\n                        if(businessUID!=null){\r\n                            progressBar.setVisibility(View.VISIBLE);\r\n                            getBusiness();\r\n                            progressBar.setVisibility(View.INVISIBLE);\r\n                        }else{\r\n                            alert.setText(\"Nessuna attivit√† registrata\");\r\n                            addActivityButton.setVisibility(View.VISIBLE);\r\n                            progressBar.setVisibility(View.INVISIBLE);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    private void getBusiness(){\r\n        if(businessUID!=null && !businessUID.isEmpty()){\r\n            addActivityButton.setVisibility(View.INVISIBLE);\r\n            scontiAttivita.setVisibility(View.VISIBLE);\r\n            mFab.setVisibility(View.VISIBLE);\r\n            for(int i=0;i<businessUID.size();i++){\r\n                String b=businessUID.get(i);\r\n                Log.d(\"b\",b);\r\n                db.collection(\"attivita\").document(b).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                        if(task.isSuccessful()){\r\n                            DocumentSnapshot document= task.getResult();\r\n                            if (document.exists()) {\r\n                                //Log.d(\"TAG\", \"DocumentSnapshot data: \" + document.getData());\r\n                                discountUID=(ArrayList) document.get(\"discountUID\");\r\n                                //Log.d(\"TAG\", \"uid dello sconto\" + discountUID.toString());\r\n                                if(discountUID!=null && !discountUID.isEmpty()){\r\n                                    getDiscounts();\r\n                                }else{\r\n                                    alert.setText(\"Nessuno sconto disponibile\");\r\n                                    alert.setVisibility(View.VISIBLE);\r\n                                    final SellerViewAdapter adapter=new SellerViewAdapter(SellerView.this,discountArray, UID,businessUID,\"sellerHome\");\r\n                                    listView.setAdapter(adapter);\r\n                                }\r\n                            } else {\r\n                                Log.d(\"TAG\", \"No such document\");\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    private void getDiscounts(){\r\n        discountArray.clear();\r\n            for(int k=0;k<discountUID.size();k++){\r\n                db.collection(\"sconti\").document(discountUID.get(k)).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                        if(task.isSuccessful()){\r\n                            Discount discount=new Discount();\r\n                            DocumentSnapshot document=task.getResult();\r\n                            discount.setUID(document.getString(\"uid\"));\r\n                            discount.setBusinessUID(document.getString(\"businessUID\"));\r\n                            discount.setState(document.getString(\"state\"));\r\n                            discount.setStartDiscountDate(document.getString(\"startDiscountDate\"));\r\n                            discount.setExpiringDate(document.getString(\"expiringDate\"));\r\n                            discount.setStepNumber(document.getString(\"stepNumber\"));\r\n                            discount.setDescription(document.getString(\"description\"));\r\n                            discount.setDiscountsQuantity(document.getString(\"discountsQuantity\"));\r\n                            discountArray.add(discount);\r\n                        }else{\r\n\r\n                        }\r\n                    }\r\n                }).addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                        final SellerViewAdapter adapter=new SellerViewAdapter(SellerView.this,discountArray, UID,businessUID,\"sellerHome\");\r\n                        listView.setAdapter(adapter);\r\n                    }\r\n                });\r\n            }\r\n    }\r\n    private void dialog(){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        // Add the buttons\r\n        builder.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int id) {\r\n                // User clicked OK button\r\n                goSellerMapView();\r\n\r\n            }\r\n        }).setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int id) {\r\n                // User cancelled the dialog\r\n            }\r\n        }).setMessage(R.string.emptyBusiness);\r\n        // Set other d\r\n        builder.show();\r\n    }\r\n    private void goSellerMapView(){\r\n        final Intent intent = new Intent(this, SellerMapView.class);\r\n        intent.putExtra(\"UID\",UID);\r\n        startActivity(intent);\r\n    }\r\n    private void startManageDiscount(){\r\n        final Intent intent = new Intent(this, ManageDiscount.class);\r\n        intent.putExtra(\"businessUID\",businessUID.get(0));\r\n        //Log.d(\"u\",businessUID.get(0).toString());\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void logOut(){\r\n        FirebaseAuth.getInstance().signOut();\r\n        final Intent intent = new Intent(this, LogIn.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/walktoshop/Seller/SellerView.java	(revision 108a1570d015fa20a99e8c959fe0bd53ec18ab9c)
+++ app/src/main/java/com/example/walktoshop/Seller/SellerView.java	(date 1611848813107)
@@ -11,6 +11,7 @@
 import android.widget.Button;
 import android.widget.EditText;
 import android.widget.ImageButton;
+import android.widget.ImageView;
 import android.widget.ListView;
 import android.widget.ProgressBar;
 import android.widget.TextView;
@@ -27,6 +28,7 @@
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.firestore.DocumentSnapshot;
 import com.google.firebase.firestore.FirebaseFirestore;
+import com.squareup.picasso.Picasso;
 
 import java.util.ArrayList;
 
@@ -42,6 +44,7 @@
     private ArrayList<Discount> discountArray=new ArrayList<>();
     private ArrayList<String> businessUID =new ArrayList<>();
     private ArrayList<String> discountUID = new ArrayList<>();
+    private ImageView sellerImage;
     private FloatingActionButton mFab;
     private TextView scontiAttivita;
 
@@ -53,6 +56,8 @@
         //View coordinatorLayout = findViewById(android.R.id.content);
         addActivityButton=(FloatingActionButton)findViewById(R.id.addBusinessFab);
         scontiAttivita = (TextView) findViewById(R.id.scontiAttivita);
+        sellerImage = (ImageView) findViewById(R.id.sellerImage);
+        Picasso.get().load(R.drawable._0943903).fit().centerInside().into(sellerImage);
         addActivityButton.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
Index: app/src/main/res/layout/activity_managediscount.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<LinearLayout\r\n    android:layout_height=\"match_parent\"\r\n    android:layout_width=\"match_parent\" xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:orientation=\"vertical\"\r\n    android:background=\"@color/white_ice\">\r\n\r\n    <ImageView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"200dp\"\r\n        android:src=\"@drawable/_0943903\"\r\n        android:scaleType=\"fitXY\"\r\n        />\r\n\r\n\r\n    <EditText\r\n        android:layout_marginTop=\"75dp\"\r\n        android:id=\"@+id/description\"\r\n        android:layout_width=\"317dp\"\r\n        android:layout_gravity=\"center\"\r\n        android:layout_height=\"54dp\"\r\n        android:background=\"@drawable/ic_text_box\"\r\n        android:drawableStart=\"@drawable/ic_description\"\r\n        android:drawablePadding=\"4dp\"\r\n        android:elevation=\"6dp\"\r\n        android:ems=\"10\"\r\n        android:hint=\"@string/description\"\r\n        android:paddingStart=\"6dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.394\" />\r\n\r\n    <EditText\r\n        android:layout_marginTop=\"25dp\"\r\n        android:layout_gravity=\"center\"\r\n        android:layout_width=\"317dp\"\r\n        android:layout_height=\"54dp\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        android:hint=\"@string/disocuntsQuantity\"\r\n        android:drawablePadding=\"4dp\"\r\n        android:elevation=\"6dp\"\r\n        android:ems=\"10\"\r\n        android:paddingStart=\"6dp\"\r\n        android:background=\"@drawable/ic_text_box\"\r\n        android:drawableStart=\"@drawable/ic_walk\"\r\n        android:id=\"@+id/disocuntsQuantity\"\r\n        android:inputType=\"number\" />\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"center\"\r\n        android:orientation=\"horizontal\"\r\n        android:layout_marginTop=\"25dp\"\r\n        android:layout_marginRight=\"7dp\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/addDate\"\r\n            android:layout_width=\"62dp\"\r\n            android:layout_height=\"44dp\"\r\n            android:background=\"@color/white_ice\"\r\n            android:drawableStart=\"@drawable/ic_calendar\"\r\n            android:src=\"@android:drawable/ic_menu_my_calendar\" />\r\n\r\n        <EditText\r\n            android:id=\"@+id/expiringDate\"\r\n            android:layout_width=\"270dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@drawable/ic_text_box\"\r\n            android:elevation=\"6dp\"\r\n            android:hint=\"@string/expiringDate\"\r\n            android:textSize=\"25dp\"\r\n            />\r\n    </LinearLayout>\r\n    <Button\r\n        android:layout_marginTop=\"25dp\"\r\n        android:layout_marginRight=\"20dp\"\r\n        android:layout_gravity=\"bottom|end\"\r\n        android:id=\"@+id/add\"\r\n        android:background=\"@color/verde_maggio\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"@string/add\"\r\n        />\r\n\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_managediscount.xml	(revision 108a1570d015fa20a99e8c959fe0bd53ec18ab9c)
+++ app/src/main/res/layout/activity_managediscount.xml	(date 1611849130201)
@@ -8,11 +8,9 @@
     android:background="@color/white_ice">
 
     <ImageView
+        android:id="@+id/discountImage"
         android:layout_width="match_parent"
-        android:layout_height="200dp"
-        android:src="@drawable/_0943903"
-        android:scaleType="fitXY"
-        />
+        android:layout_height="200dp"/>
 
 
     <EditText
Index: app/src/main/res/layout/activity_seller_view.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:id=\"@+id/sellerViewcontainer\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/white_ice\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/alertSeller\"\r\n        android:layout_gravity=\"center\"\r\n        android:layout_marginTop=\"100dp\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:textSize=\"25dp\"/>\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/sellerLinearLayout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <ImageView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"190dp\"\r\n                android:src=\"@drawable/_0943903\"\r\n                android:scaleType=\"fitXY\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\"\r\n                android:padding=\"16dp\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/scontiAttivita\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Sconti Attivit√†\"\r\n                    android:textAppearance=\"?attr/textAppearanceHeadline4\"/>\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"vertical\">\r\n\r\n               <ListView\r\n                    android:id=\"@+id/listView\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_alignParentStart=\"true\"\r\n                    android:layout_alignParentLeft=\"true\"\r\n                    android:layout_alignParentTop=\"true\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_alignParentRight=\"true\"\r\n                    android:layout_alignParentBottom=\"true\"\r\n                    android:clickable=\"false\"\r\n                    android:focusable=\"false\">\r\n                </ListView>\r\n\r\n            </LinearLayout>\r\n        </LinearLayout>\r\n\r\n\r\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=\"@+id/addBusinessFab\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"bottom|right\"\r\n        android:layout_marginRight=\"@dimen/material_bottom_margin\"\r\n        android:layout_marginBottom=\"@dimen/material_botton_margin\"\r\n        android:src=\"@android:drawable/ic_menu_mapmode\"\r\n        app:backgroundTint=\"@color/verde_maggio\"\r\n        app:backgroundTintMode=\"src_over\"\r\n        app:fabSize=\"normal\"\r\n        app:rippleColor=\"#00FF00\" />\r\n        />\r\n    <ProgressBar\r\n        android:id=\"@+id/sellerViewProgressBar\"\r\n        style=\"?android:attr/progressBarStyle\"\r\n        android:layout_width=\"91dp\"\r\n        android:layout_height=\"81dp\"\r\n        android:layout_marginLeft=\"160dp\"\r\n        android:layout_marginTop=\"350dp\" />\r\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=\"@+id/fab\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"bottom|right\"\r\n        android:layout_marginRight=\"@dimen/material_bottom_margin\"\r\n        android:layout_marginBottom=\"@dimen/material_botton_margin\"\r\n        android:src=\"@drawable/ic_add\"\r\n        app:backgroundTint=\"@color/verde_maggio\"\r\n        app:backgroundTintMode=\"src_over\"\r\n        app:fabSize=\"normal\"\r\n        app:rippleColor=\"#00FF00\" />\r\n\r\n</androidx.coordinatorlayout.widget.CoordinatorLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_seller_view.xml	(revision 108a1570d015fa20a99e8c959fe0bd53ec18ab9c)
+++ app/src/main/res/layout/activity_seller_view.xml	(date 1611848730420)
@@ -22,10 +22,9 @@
             android:orientation="vertical">
 
             <ImageView
+                android:id="@+id/sellerImage"
                 android:layout_width="match_parent"
-                android:layout_height="190dp"
-                android:src="@drawable/_0943903"
-                android:scaleType="fitXY" />
+                android:layout_height="190dp" />
 
             <LinearLayout
                 android:layout_width="match_parent"
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'com.google.gms.google-services'\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.walktoshop\"\r\n        minSdkVersion 23\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    repositories {\r\n        maven { url 'https://jitpack.io' }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation 'org.jetbrains:annotations:15.0'\r\n    def fragment_version = \"1.2.5\"\r\n    // Java language implementation\r\n    implementation \"androidx.fragment:fragment:$fragment_version\"\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    implementation 'com.google.firebase:firebase-auth:20.0.2'\r\n    implementation 'com.google.firebase:firebase-firestore:22.0.1'\r\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\r\n    implementation 'com.google.android.gms:play-services-location:17.1.0'\r\n    implementation 'com.google.android.gms:play-services-places:17.0.0'\r\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\r\n    implementation 'com.google.android.libraries.places:places:2.4.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    implementation \"androidx.swiperefreshlayout:swiperefreshlayout:1.1.0\"\r\n    testImplementation 'junit:junit:4.+'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision 108a1570d015fa20a99e8c959fe0bd53ec18ab9c)
+++ app/build.gradle	(date 1611848514777)
@@ -45,6 +45,7 @@
     implementation 'com.google.android.gms:play-services-location:17.1.0'
     implementation 'com.google.android.gms:play-services-places:17.0.0'
     implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'
+    implementation 'com.squareup.picasso:picasso:2.71828'
     implementation 'com.google.android.libraries.places:places:2.4.0'
     implementation 'androidx.constraintlayout:constraintlayout:2.0.4'
     implementation "androidx.swiperefreshlayout:swiperefreshlayout:1.1.0"
