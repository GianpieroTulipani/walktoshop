Index: app/src/main/java/com/example/walktoshop/User/UserView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.walktoshop.User;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ActionBar;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\n\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\npublic class UserView extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_view);\r\n        ActionBar actionBar = getActionBar();\r\n        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()) {\r\n                    case R.id.action_home:\r\n                        goHome();\r\n                        break;\r\n                    case R.id.action_map:\r\n                        break;\r\n                    case R.id.action_statistics:\r\n                        break;\r\n                    case R.id.action_notification:\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void goHome() {\r\n        final Intent intent = new Intent(this, UserView.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    public void OnItemSelected(MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.action_search:\r\n                break;\r\n            case R.id.action_exit:\r\n                break;\r\n            case R.id.action_settings:\r\n                break;\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/walktoshop/User/UserView.java	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
+++ app/src/main/java/com/example/walktoshop/User/UserView.java	(date 1610980876161)
@@ -2,14 +2,22 @@
 
 import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.appcompat.widget.Toolbar;
 
-import android.app.ActionBar;
+import android.Manifest;
 import android.content.Intent;
+import android.content.pm.PackageManager;
+import android.location.Location;
 import android.os.Bundle;
+import android.util.Log;
 import android.view.Menu;
 import android.view.MenuItem;
 
+
 import com.example.walktoshop.R;
+import com.google.android.gms.location.FusedLocationProviderClient;
+import com.google.android.gms.location.LocationServices;
+import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.material.bottomnavigation.BottomNavigationView;
 
 public class UserView extends AppCompatActivity {
@@ -18,7 +26,7 @@
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_user_view);
-        ActionBar actionBar = getActionBar();
+
         BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);
         bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {
             @Override
@@ -28,6 +36,7 @@
                         goHome();
                         break;
                     case R.id.action_map:
+                        goToUserViewMap();
                         break;
                     case R.id.action_statistics:
                         break;
@@ -39,6 +48,11 @@
         });
     }
 
+    private void goToUserViewMap() {
+       final Intent intent = new Intent(this, UserMapView.class);
+       startActivity(intent);
+    }
+
 
     public void goHome() {
         final Intent intent = new Intent(this, UserView.class);
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'com.google.gms.google-services'\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.walktoshop\"\r\n        minSdkVersion 23\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    def fragment_version = \"1.2.5\"\r\n    // Java language implementation\r\n    implementation \"androidx.fragment:fragment:$fragment_version\"\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    implementation 'com.google.firebase:firebase-auth:20.0.2'\r\n    implementation 'com.google.firebase:firebase-firestore:22.0.1'\r\n    implementation 'com.google.android.gms:play-services-maps:8.3.0'\r\n    implementation 'com.google.android.libraries.places:places:2.4.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    testImplementation 'junit:junit:4.+'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
+++ app/build.gradle	(date 1610961209508)
@@ -37,9 +37,11 @@
     implementation 'com.google.android.material:material:1.2.1'
     implementation 'com.google.firebase:firebase-auth:20.0.2'
     implementation 'com.google.firebase:firebase-firestore:22.0.1'
-    implementation 'com.google.android.gms:play-services-maps:8.3.0'
+    implementation 'com.google.android.gms:play-services-maps:17.0.0'
+    implementation 'com.google.android.gms:play-services-location:17.1.0'
     implementation 'com.google.android.libraries.places:places:2.4.0'
     implementation 'androidx.constraintlayout:constraintlayout:2.0.4'
+    implementation "androidx.swiperefreshlayout:swiperefreshlayout:1.1.0"
     testImplementation 'junit:junit:4.+'
     androidTestImplementation 'androidx.test.ext:junit:1.1.2'
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'
Index: app/src/main/res/layout/activity_seller_map_view.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"horizontal\">\r\n\r\n    <fragment xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:map=\"http://schemas.android.com/apk/res-auto\"\r\n        xmlns:tools=\"http://schemas.android.com/tools\"\r\n        android:id=\"@+id/map\"\r\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        tools:context=\"com.example.WalktoShop.MapsActivity\" />\r\n\r\n    <androidx.appcompat.widget.SearchView\r\n        android:id=\"@+id/search_bar\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentTop=\"true\"\r\n        android:queryHint=\"Search..\"\r\n        android:iconifiedByDefault=\"false\"\r\n        android:layout_margin=\"10dp\"\r\n        android:elevation=\"5dp\"\r\n        android:background=\"#FFFF\"\r\n        android:layout_marginBottom=\"683dp\" />\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_seller_map_view.xml	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
+++ app/src/main/res/layout/activity_seller_map_view.xml	(date 1610894354199)
@@ -13,7 +13,7 @@
         android:name="com.google.android.gms.maps.SupportMapFragment"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
-        tools:context="com.example.WalktoShop.MapsActivity" />
+        tools:context="com.example.walktoshop.Seller.SellerMapView" />
 
     <androidx.appcompat.widget.SearchView
         android:id="@+id/search_bar"
Index: app/src/main/java/com/example/walktoshop/User/FragmentUserMapBackDrop.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/walktoshop/User/FragmentUserMapBackDrop.java	(date 1610958832197)
+++ app/src/main/java/com/example/walktoshop/User/FragmentUserMapBackDrop.java	(date 1610958832197)
@@ -0,0 +1,54 @@
+package com.example.walktoshop.User;
+
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.LinearLayout;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.coordinatorlayout.widget.CoordinatorLayout;
+import androidx.fragment.app.Fragment;
+
+import com.example.walktoshop.R;
+import com.google.android.material.bottomsheet.BottomSheetBehavior;
+
+public class FragmentUserMapBackDrop extends Fragment {
+
+    BottomSheetBehavior sheetBehavior;
+    @Nullable
+    @Override
+    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
+
+        View coordinatorLayout = (CoordinatorLayout)inflater.inflate(R.layout.fragment_map_backdrop, container, false);
+
+        ImageView filterIcon = coordinatorLayout.findViewById(R.id.filterIcon);
+        LinearLayout contentLayout = coordinatorLayout.findViewById(R.id.contentLayout);
+
+        sheetBehavior = BottomSheetBehavior.from(contentLayout);
+        sheetBehavior.setFitToContents(false);
+        sheetBehavior.setHideable(false);//evita che il backdrop sia completamente oscurato
+        sheetBehavior.setState(BottomSheetBehavior.STATE_EXPANDED);//inizialmente il  backdrop parte esteso
+
+        filterIcon.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                toggleFilters();
+            }
+        });
+        return coordinatorLayout;
+    }
+
+    private void toggleFilters() {
+        if (sheetBehavior.getState() == BottomSheetBehavior.STATE_EXPANDED) {
+            sheetBehavior.setHideable(true);
+            sheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN);
+        } else {
+            sheetBehavior.setHideable(true);
+            sheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN);
+        }
+    }
+}
+
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.walktoshop\">\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.Walktoshop\">\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n\r\n        <activity android:name=\".User.UserView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Seller.SellerView\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".Seller.SellerMapView\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.SignUp\">\r\n\r\n        </activity>\r\n        <activity android:name=\".Login_SignUp.LogIn\">\r\n\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
+++ app/src/main/AndroidManifest.xml	(date 1610974906492)
@@ -2,8 +2,12 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="com.example.walktoshop">
 
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
     <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
     <uses-permission android:name="android.permission.INTERNET"/>
+    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
+    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
+
     <application
         android:allowBackup="true"
         android:icon="@mipmap/ic_launcher"
@@ -17,14 +21,14 @@
             android:value="@string/google_maps_key" />
 
         <activity android:name=".User.UserView">
-
-        </activity>
-        <activity android:name=".Seller.SellerView">
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
 
                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
+        </activity>
+        <activity android:name=".Seller.SellerView">
+
         </activity>
         <activity android:name=".Seller.SellerMapView">
 
@@ -35,6 +39,7 @@
         <activity android:name=".Login_SignUp.LogIn">
 
         </activity>
+        <activity android:name=".User.UserMapView"></activity>
     </application>
 
 </manifest>
\ No newline at end of file
Index: app/src/main/java/com/example/walktoshop/User/UserMapView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/walktoshop/User/UserMapView.java	(date 1610980973212)
+++ app/src/main/java/com/example/walktoshop/User/UserMapView.java	(date 1610980973212)
@@ -0,0 +1,100 @@
+package com.example.walktoshop.User;
+
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.Menu;
+import android.view.MenuItem;
+
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.appcompat.app.AppCompatActivity;
+
+
+
+import com.example.walktoshop.R;
+import com.google.android.gms.location.FusedLocationProviderClient;
+import com.google.android.gms.maps.CameraUpdateFactory;
+import com.google.android.gms.maps.GoogleMap;
+import com.google.android.gms.maps.OnMapReadyCallback;
+import com.google.android.gms.maps.SupportMapFragment;
+import com.google.android.gms.maps.model.LatLng;
+import com.google.android.gms.maps.model.Marker;
+import com.google.android.gms.maps.model.MarkerOptions;
+import com.google.android.material.bottomnavigation.BottomNavigationView;
+
+
+
+public class UserMapView extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnMarkerClickListener {
+    GoogleMap mMap;
+
+    @Override
+    protected void onCreate(@Nullable Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_user_map_view);
+
+        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()
+                .findFragmentById(R.id.map);
+
+
+        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation);
+        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {
+            @Override
+            public boolean onNavigationItemSelected(@NonNull MenuItem item) {
+                switch (item.getItemId()) {
+                    case R.id.action_home:
+                        goHome();
+                        break;
+                    case R.id.action_statistics:
+                        break;
+                    case R.id.action_notification:
+                        break;
+                }
+                return true;
+            }
+        });
+    }
+
+    public void goHome() {
+        final Intent intent = new Intent(this, UserView.class);
+        startActivity(intent);
+    }
+
+    public boolean onCreateOptionsMenu(Menu menu) {
+        getMenuInflater().inflate(R.menu.menu_action_bar, menu);
+        return true;
+    }
+
+    public boolean onOptionsItemSelected(MenuItem item) {
+        return super.onOptionsItemSelected(item);
+    }
+
+    public void OnItemSelected(MenuItem item) {
+        switch (item.getItemId()) {
+            case R.id.action_search:
+                break;
+            case R.id.action_exit:
+                break;
+            case R.id.action_settings:
+                break;
+        }
+    }
+
+    @Override
+    public void onMapReady(GoogleMap googleMap) {
+        mMap = googleMap;
+
+        // Add a marker in Sydney and move the camera
+        LatLng sydney = new LatLng(-34, 151);
+        mMap.addMarker(new MarkerOptions().position(sydney).title("Marker in Sydney"));
+        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));
+
+    }
+
+    @Override
+    public boolean onMarkerClick(Marker marker) {
+        getSupportFragmentManager().beginTransaction()
+                .add(R.id.container, new FragmentUserMapBackDrop()).commit();
+        return false;
+    }
+}
Index: app/src/main/res/layout/activity_user_map_view.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_user_map_view.xml	(date 1610916860841)
+++ app/src/main/res/layout/activity_user_map_view.xml	(date 1610916860841)
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context="com.example.walktoshop.User.UserView"
+    android:orientation="horizontal">
+
+    <fragment xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:map="http://schemas.android.com/apk/res-auto"
+        xmlns:tools="http://schemas.android.com/tools"
+        android:id="@+id/map"
+        android:name="com.google.android.gms.maps.SupportMapFragment"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        tools:context="com.example.walktoshop.User.UserMapView" />
+
+    <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:tools="http://schemas.android.com/tools"
+        xmlns:app="http://schemas.android.com/apk/res-auto"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        tools:context="com.example.walktoshop.User.UserView"
+        android:orientation="horizontal">
+
+        <com.google.android.material.bottomnavigation.BottomNavigationView
+            android:id="@+id/bottom_navigation"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_gravity="bottom"
+            style="@style/Widget.MaterialComponents.BottomNavigationView.Colored"
+            app:menu="@menu/menu_bottom_navigation_view"/>
+
+    </FrameLayout>
+
+    <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:tools="http://schemas.android.com/tools"
+        android:id="@+id/container"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"/>
+
+</androidx.coordinatorlayout.widget.CoordinatorLayout>
\ No newline at end of file
Index: app/src/main/res/layout/activity_seller_view.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/container\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <ListView\r\n        android:id=\"@+id/listView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_alignParentStart=\"true\"\r\n        android:layout_alignParentLeft=\"true\"\r\n        android:layout_alignParentTop=\"true\"\r\n        android:layout_alignParentEnd=\"true\"\r\n        android:layout_alignParentRight=\"true\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:layout_marginStart=\"0dp\"\r\n        android:layout_marginLeft=\"0dp\"\r\n        android:layout_marginTop=\"0dp\"\r\n        android:layout_marginEnd=\"0dp\"\r\n        android:layout_marginRight=\"0dp\"\r\n        android:layout_marginBottom=\"-5dp\"\r\n        >\r\n\r\n\r\n    </ListView>\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/sellerViewProgressBar\"\r\n        style=\"?android:attr/progressBarStyle\"\r\n        android:layout_width=\"91dp\"\r\n        android:layout_height=\"81dp\"\r\n        android:layout_marginLeft=\"160dp\"\r\n        android:layout_marginTop=\"350dp\" />\r\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=\"@+id/fab\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"650dp\"\r\n        android:layout_marginLeft=\"330dp\"\r\n        android:layout_gravity=\"end|bottom\"\r\n        android:layout_marginRight=\"@dimen/material_bottom_margin\"\r\n        android:layout_marginBottom=\"@dimen/material_botton_margin\"\r\n        android:src=\"@drawable/baseline_add_black_18dp\"\r\n        app:backgroundTint=\"@color/verde_maggio\"\r\n        app:backgroundTintMode=\"src_over\"\r\n        app:fabSize=\"normal\"\r\n        app:rippleColor=\"#00FF00\"\r\n        android:layout_weight=\"1\"\r\n        />\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_seller_view.xml	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
+++ app/src/main/res/layout/activity_seller_view.xml	(date 1610895197587)
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout
+<androidx.coordinatorlayout.widget.CoordinatorLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
@@ -22,9 +22,7 @@
         android:layout_marginTop="0dp"
         android:layout_marginEnd="0dp"
         android:layout_marginRight="0dp"
-        android:layout_marginBottom="-5dp"
-        >
-
+        android:layout_marginBottom="-5dp">
 
     </ListView>
 
@@ -35,20 +33,18 @@
         android:layout_height="81dp"
         android:layout_marginLeft="160dp"
         android:layout_marginTop="350dp" />
+
     <com.google.android.material.floatingactionbutton.FloatingActionButton
         android:id="@+id/fab"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:layout_marginTop="650dp"
-        android:layout_marginLeft="330dp"
-        android:layout_gravity="end|bottom"
+        android:layout_gravity="bottom|right"
         android:layout_marginRight="@dimen/material_bottom_margin"
         android:layout_marginBottom="@dimen/material_botton_margin"
         android:src="@drawable/baseline_add_black_18dp"
         app:backgroundTint="@color/verde_maggio"
         app:backgroundTintMode="src_over"
         app:fabSize="normal"
-        app:rippleColor="#00FF00"
-        android:layout_weight="1"
-        />
-</RelativeLayout>
\ No newline at end of file
+        app:rippleColor="#00FF00"/>
+
+</androidx.coordinatorlayout.widget.CoordinatorLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/walktoshop/Seller/SellerViewAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.walktoshop.Seller;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport com.example.walktoshop.R;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FieldValue;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class SellerViewAdapter extends ArrayAdapter {\r\n    private Context context;\r\n    private ArrayList<Business> business;\r\n    private String UID;\r\n    FirebaseFirestore db =FirebaseFirestore.getInstance();\r\n\r\n\r\n    public SellerViewAdapter(Context context, ArrayList<Business> business, String UID) {\r\n        super(context, R.layout.activity_sellerviewadapter);\r\n        this.context=context;\r\n        this.business=business;\r\n        this.UID = UID;\r\n    }\r\n    @Override\r\n    public int getCount() {\r\n        if(business.size()<1){\r\n            return 1;\r\n        }else{\r\n            return business.size();\r\n        }\r\n\r\n    }\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return business.get(position);\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n    @Override\r\n    public int getViewTypeCount() {\r\n        return getCount();\r\n    }\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        LayoutInflater layoutInflater=(LayoutInflater) context.getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        final View activity_business = layoutInflater.inflate(R.layout.activity_sellerviewadapter,parent,false);\r\n        TextView myTitle = activity_business.findViewById(R.id.text);\r\n        TextView myDescription = activity_business.findViewById(R.id.description);\r\n        Button deletebusiness = activity_business.findViewById(R.id.deletebusiness);\r\n\r\n        if(this.business.get(position) != null && position>=0){\r\n            Business b=this.business.get(position);\r\n            myTitle.setText(b.getName());\r\n            myDescription.setText(\"vuota\");\r\n        }\r\n        deletebusiness.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.d(\"pos\", String.valueOf(position));\r\n                deleteBusiness(position);\r\n            }\r\n        });\r\n        return activity_business;\r\n    }\r\n\r\n    private void deleteBusiness(int position){\r\n        db.collection(\"attivita\").document(business.get(position).getUID())\r\n                .delete()\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        getSeller(position);\r\n                        Log.d(\"delete\", \"DocumentSnapshot successfully deleted!\");\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.w(\"delete\", \"Error deleting document\", e);\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void getSeller(int position)\r\n    {\r\n        db.collection(\"venditore\").document(UID).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n             if(task.isSuccessful())\r\n             {\r\n                 DocumentSnapshot document = task.getResult();\r\n                 Seller seller = new Seller();\r\n                 ArrayList<String> businessUID = (ArrayList<String>) document.get(\"businessUID\");\r\n                 businessUID.remove(position);\r\n                 SellerViewAdapter.this.business.remove(position);\r\n                 SellerViewAdapter.this.notifyDataSetChanged();\r\n                 Log.d(\"venditore\",businessUID.toString());\r\n                 updateSeller(businessUID);\r\n             }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void updateSeller(ArrayList<String> businessUID)\r\n    {\r\n        db.collection(\"venditore\").document(UID).update(\"businessUID\",businessUID).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<Void> task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                    Log.d(\"venditore\",\"eliminato dall'array\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/walktoshop/Seller/SellerViewAdapter.java	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
+++ app/src/main/java/com/example/walktoshop/Seller/SellerViewAdapter.java	(date 1610959134429)
@@ -50,7 +50,6 @@
         }else{
             return business.size();
         }
-
     }
     @Override
     public Object getItem(int position) {
Index: app/src/main/res/layout/activity_sellerviewadapter.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:padding=\"16dp\"\r\n    android:id=\"@+id/itemPage\"\r\n    >\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"#EEEFF4\"\r\n        android:orientation=\"horizontal\">\r\n\r\n\r\n        <TextView\r\n            android:id=\"@+id/text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"5dp\"\r\n            android:padding=\"5dp\"\r\n            android:text=\"main\"\r\n            android:textColor=\"#000\"\r\n            android:textSize=\"20sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/deletebusiness\"\r\n            android:layout_width=\"50dp\"\r\n            android:layout_height=\"50dp\"\r\n            android:layout_marginLeft=\"310dp\"\r\n            android:layout_marginTop=\"20dp\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/description\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"50dp\"\r\n            android:padding=\"5dp\"\r\n            android:text=\"description\"\r\n            android:textColor=\"#000\"\r\n            android:textSize=\"20sp\" />\r\n\r\n\r\n    </RelativeLayout>\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_sellerviewadapter.xml	(revision cba3ffa28f8c87e9372b9bc7499c0f1a52825aae)
+++ app/src/main/res/layout/activity_sellerviewadapter.xml	(date 1610959134409)
@@ -3,8 +3,7 @@
     xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent"
     android:layout_height="match_parent"
     android:padding="16dp"
-    android:id="@+id/itemPage"
-    >
+    android:id="@+id/itemPage">
 
     <RelativeLayout
         android:layout_width="match_parent"
